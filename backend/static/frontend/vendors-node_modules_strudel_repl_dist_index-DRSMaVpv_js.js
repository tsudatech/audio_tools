/*! For license information please see vendors-node_modules_strudel_repl_dist_index-DRSMaVpv_js.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["vendors-node_modules_strudel_repl_dist_index-DRSMaVpv_js"],{"../node_modules/@strudel/repl/dist/index-DRSMaVpv.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addVoicings: () => (/* binding */ xM),\n/* harmony export */   packageName: () => (/* binding */ HM),\n/* harmony export */   registerVoicings: () => (/* binding */ om),\n/* harmony export */   resetVoicings: () => (/* binding */ LM),\n/* harmony export */   rootNotes: () => (/* binding */ zM),\n/* harmony export */   scale: () => (/* binding */ OM),\n/* harmony export */   scaleTranspose: () => (/* binding */ FM),\n/* harmony export */   setDefaultVoicings: () => (/* binding */ wM),\n/* harmony export */   setVoicingRange: () => (/* binding */ qM),\n/* harmony export */   transpose: () => (/* binding */ kM),\n/* harmony export */   voicing: () => (/* binding */ BM),\n/* harmony export */   voicingAlias: () => (/* binding */ a1),\n/* harmony export */   voicingRegistry: () => (/* binding */ t1),\n/* harmony export */   voicings: () => (/* binding */ GM)\n/* harmony export */ });\n/* harmony import */ var _index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-DfdLyHnT.js */ "../node_modules/@strudel/repl/dist/index-DfdLyHnT.js");\n\nfunction X1(t) {\n  return t !== null && typeof t == "object" && "name" in t && typeof t.name == "string";\n}\nfunction K1(t) {\n  return t !== null && typeof t == "object" && "step" in t && typeof t.step == "number" && "alt" in t && typeof t.alt == "number" && !isNaN(t.step) && !isNaN(t.alt);\n}\nvar Jt = [0, 2, 4, -1, 1, 3, 5], Qt = Jt.map(\n  (t) => Math.floor(t * 7 / 12)\n);\nfunction Wt(t) {\n  const { step: n, alt: m, oct: e, dir: r = 1 } = t, o = Jt[n] + 7 * m;\n  if (e === void 0)\n    return [r * o];\n  const M = e - Qt[n] - 4 * m;\n  return [r * o, r * M];\n}\nvar im = [3, 0, 4, 1, 5, 2, 6];\nfunction Yt(t) {\n  const [n, m, e] = t, r = im[sm(n)], o = Math.floor((n + 1) / 7);\n  if (m === void 0)\n    return { step: r, alt: o, dir: e };\n  const M = m + 4 * o + Qt[r];\n  return { step: r, alt: o, oct: M, dir: e };\n}\nfunction sm(t) {\n  const n = (t + 1) % 7;\n  return n < 0 ? 7 + n : n;\n}\nvar yt = (t, n) => Array(Math.abs(n) + 1).join(t), q1 = Object.freeze({\n  empty: !0,\n  name: "",\n  num: NaN,\n  q: "",\n  type: "",\n  step: NaN,\n  alt: NaN,\n  dir: NaN,\n  simple: NaN,\n  semitones: NaN,\n  chroma: NaN,\n  coord: [],\n  oct: NaN\n}), cm = "([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})", um = "(AA|A|P|M|m|d|dd)([-+]?\\\\d+)", dm = new RegExp(\n  "^" + cm + "|" + um + "$"\n);\nfunction lm(t) {\n  const n = dm.exec(`${t}`);\n  return n === null ? ["", ""] : n[1] ? [n[1], n[2]] : [n[4], n[3]];\n}\nvar At = {};\nfunction N(t) {\n  return typeof t == "string" ? At[t] || (At[t] = fm(t)) : K1(t) ? N(pm(t)) : X1(t) ? N(t.name) : q1;\n}\nvar $t = [0, 2, 4, 5, 7, 9, 11], Zt = "PMMPPMM";\nfunction fm(t) {\n  const n = lm(t);\n  if (n[0] === "")\n    return q1;\n  const m = +n[0], e = n[1], r = (Math.abs(m) - 1) % 7, o = Zt[r];\n  if (o === "M" && e === "P")\n    return q1;\n  const M = o === "M" ? "majorable" : "perfectable", P = "" + m + e, a = m < 0 ? -1 : 1, i = m === 8 || m === -8 ? m : a * (r + 1), s = hm(M, e), u = Math.floor((Math.abs(m) - 1) / 7), c = a * ($t[r] + s + 12 * u), d = (a * ($t[r] + s) % 12 + 12) % 12, f = Wt({ step: r, alt: s, oct: u, dir: a });\n  return {\n    empty: !1,\n    name: P,\n    num: m,\n    q: e,\n    step: r,\n    alt: s,\n    dir: a,\n    type: M,\n    simple: i,\n    semitones: c,\n    chroma: d,\n    coord: f,\n    oct: u\n  };\n}\nfunction tn(t, n) {\n  const [m, e = 0] = t, r = m * 7 + e * 12 < 0, o = n || r ? [-m, -e, -1] : [m, e, 1];\n  return N(Yt(o));\n}\nfunction hm(t, n) {\n  return n === "M" && t === "majorable" || n === "P" && t === "perfectable" ? 0 : n === "m" && t === "majorable" ? -1 : /^A+$/.test(n) ? n.length : /^d+$/.test(n) ? -1 * (t === "perfectable" ? n.length : n.length + 1) : 0;\n}\nfunction pm(t) {\n  const { step: n, alt: m, oct: e = 0, dir: r } = t;\n  if (!r)\n    return "";\n  const o = n + 1 + 7 * e, M = o === 0 ? n + 1 : o, P = r < 0 ? "-" : "", a = Zt[n] === "M" ? "majorable" : "perfectable";\n  return P + M + bm(a, m);\n}\nfunction bm(t, n) {\n  return n === 0 ? t === "majorable" ? "M" : "P" : n === -1 && t === "majorable" ? "m" : n > 0 ? yt("A", n) : yt("d", t === "perfectable" ? n : n + 1);\n}\nvar Nt = (t, n) => Array(Math.abs(n) + 1).join(t), nn = Object.freeze({\n  empty: !0,\n  name: "",\n  letter: "",\n  acc: "",\n  pc: "",\n  step: NaN,\n  alt: NaN,\n  chroma: NaN,\n  height: NaN,\n  coord: [],\n  midi: null,\n  freq: null\n}), jt = /* @__PURE__ */ new Map(), vm = (t) => "CDEFGAB".charAt(t), u1 = (t) => t < 0 ? Nt("b", -t) : Nt("#", t), J1 = (t) => t[0] === "b" ? -t.length : t.length;\nfunction l(t) {\n  const n = JSON.stringify(t), m = jt.get(n);\n  if (m)\n    return m;\n  const e = typeof t == "string" ? $m(t) : K1(t) ? l(Nm(t)) : X1(t) ? l(t.name) : nn;\n  return jt.set(n, e), e;\n}\nvar gm = /^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/;\nfunction Q1(t) {\n  const n = gm.exec(t);\n  return n ? [n[1].toUpperCase(), n[2].replace(/x/g, "##"), n[3], n[4]] : ["", "", "", ""];\n}\nfunction ym(t) {\n  return l(Yt(t));\n}\nvar Am = (t, n) => (t % n + n) % n, w1 = [0, 2, 4, 5, 7, 9, 11];\nfunction $m(t) {\n  const n = Q1(t);\n  if (n[0] === "" || n[3] !== "")\n    return nn;\n  const m = n[0], e = n[1], r = n[2], o = (m.charCodeAt(0) + 3) % 7, M = J1(e), P = r.length ? +r : void 0, a = Wt({ step: o, alt: M, oct: P }), i = m + e + r, s = m + e, u = (w1[o] + M + 120) % 12, c = P === void 0 ? Am(w1[o] + M, 12) - 12 * 99 : w1[o] + M + 12 * (P + 1), d = c >= 0 && c <= 127 ? c : null, f = P === void 0 ? null : Math.pow(2, (c - 69) / 12) * 440;\n  return {\n    empty: !1,\n    acc: e,\n    alt: M,\n    chroma: u,\n    coord: a,\n    freq: f,\n    height: c,\n    letter: m,\n    midi: d,\n    name: i,\n    oct: P,\n    pc: s,\n    step: o\n  };\n}\nfunction Nm(t) {\n  const { step: n, alt: m, oct: e } = t, r = vm(n);\n  if (!r)\n    return "";\n  const o = r + u1(m);\n  return e || e === 0 ? o + e : o;\n}\nfunction y(t, n) {\n  const m = l(t), e = Array.isArray(n) ? n : N(n).coord;\n  if (m.empty || !e || e.length < 2)\n    return "";\n  const r = m.coord, o = r.length === 1 ? [r[0] + e[0]] : [r[0] + e[0], r[1] + e[1]];\n  return ym(o).name;\n}\nfunction mn(t, n) {\n  const m = t.length;\n  return (e) => {\n    if (!n) return "";\n    const r = e < 0 ? (m - -e % m) % m : e % m, o = Math.floor(e / m), M = y(n, [0, o]);\n    return y(M, t[r]);\n  };\n}\nfunction d1(t, n) {\n  const m = l(t), e = l(n);\n  if (m.empty || e.empty)\n    return "";\n  const r = m.coord, o = e.coord, M = o[0] - r[0], P = r.length === 2 && o.length === 2 ? o[1] - r[1] : -Math.floor(M * 7 / 12), a = e.height === m.height && e.midi !== null && m.oct === e.oct && m.step > e.step;\n  return tn([M, P], a).name;\n}\nvar St = (t, n) => Array(n + 1).join(t), jm = /^(_{1,}|=|\\^{1,}|)([abcdefgABCDEFG])([,\']*)$/;\nfunction en(t) {\n  const n = jm.exec(t);\n  return n ? [n[1], n[2], n[3]] : ["", "", ""];\n}\nfunction s1(t) {\n  const [n, m, e] = en(t);\n  if (m === "")\n    return "";\n  let r = 4;\n  for (let M = 0; M < e.length; M++)\n    r += e.charAt(M) === "," ? -1 : 1;\n  const o = n[0] === "_" ? n.replace(/_/g, "b") : n[0] === "^" ? n.replace(/\\^/g, "#") : "";\n  return m.charCodeAt(0) > 96 ? m.toUpperCase() + o + (r + 1) : m + o + r;\n}\nfunction rn(t) {\n  const n = l(t);\n  if (n.empty || !n.oct && n.oct !== 0)\n    return "";\n  const { letter: m, acc: e, oct: r } = n, o = e[0] === "b" ? e.replace(/b/g, "_") : e.replace(/#/g, "^"), M = r > 4 ? m.toLowerCase() : m, P = r === 5 ? "" : r > 4 ? St("\'", r - 5) : St(",", 4 - r);\n  return o + M + P;\n}\nfunction Sm(t, n) {\n  return rn(y(s1(t), n));\n}\nfunction Im(t, n) {\n  return d1(s1(t), s1(n));\n}\nvar Tm = {\n  abcToScientificNotation: s1,\n  scientificToAbcNotation: rn,\n  tokenize: en,\n  transpose: Sm,\n  distance: Im\n};\nfunction _m(t, n) {\n  const m = [];\n  for (; n--; m[n] = n + t) ;\n  return m;\n}\nfunction Cm(t, n) {\n  const m = [];\n  for (; n--; m[n] = t - n) ;\n  return m;\n}\nfunction Em(t, n) {\n  return t < n ? _m(t, n - t + 1) : Cm(t, t - n + 1);\n}\nfunction Dm(t, n) {\n  const m = n.length, e = (t % m + m) % m;\n  return n.slice(e, m).concat(n.slice(0, e));\n}\nfunction wm(t) {\n  return t.filter((n) => n === 0 || n);\n}\nfunction on(t) {\n  return t.map((m) => l(m)).filter((m) => !m.empty).sort((m, e) => m.height - e.height).map((m) => m.name);\n}\nfunction xm(t) {\n  return on(t).filter((n, m, e) => m === 0 || n !== e[m - 1]);\n}\nfunction Vm(t, n = Math.random) {\n  let m, e, r = t.length;\n  for (; r; )\n    m = Math.floor(n() * r--), e = t[r], t[r] = t[m], t[m] = e;\n  return t;\n}\nfunction Mn(t) {\n  return t.length === 0 ? [[]] : Mn(t.slice(1)).reduce((n, m) => n.concat(\n    t.map((e, r) => {\n      const o = m.slice();\n      return o.splice(r, 0, t[0]), o;\n    })\n  ), []);\n}\nconst Rm = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  compact: wm,\n  permutations: Mn,\n  range: Em,\n  rotate: Dm,\n  shuffle: Vm,\n  sortedNoteNames: on,\n  sortedUniqNoteNames: xm\n}, Symbol.toStringTag, { value: "Module" }));\nfunction km(t, n) {\n  const m = [];\n  for (; n--; m[n] = n + t) ;\n  return m;\n}\nfunction Fm(t, n) {\n  const m = [];\n  for (; n--; m[n] = t - n) ;\n  return m;\n}\nfunction l1(t, n) {\n  return t < n ? km(t, n - t + 1) : Fm(t, t - n + 1);\n}\nfunction z(t, n) {\n  const m = n.length, e = (t % m + m) % m;\n  return n.slice(e, m).concat(n.slice(0, e));\n}\nfunction W1(t) {\n  return t.filter((n) => n === 0 || n);\n}\nfunction Om(t, n = Math.random) {\n  let m, e, r = t.length;\n  for (; r; )\n    m = Math.floor(n() * r--), e = t[r], t[r] = t[m], t[m] = e;\n  return t;\n}\nfunction Pn(t) {\n  return t.length === 0 ? [[]] : Pn(t.slice(1)).reduce((n, m) => n.concat(\n    t.map((e, r) => {\n      const o = m.slice();\n      return o.splice(r, 0, t[0]), o;\n    })\n  ), []);\n}\nvar qm = {\n  compact: W1,\n  permutations: Pn,\n  range: l1,\n  rotate: z,\n  shuffle: Om\n}, T = {\n  empty: !0,\n  name: "",\n  setNum: 0,\n  chroma: "000000000000",\n  normalized: "000000000000",\n  intervals: []\n}, Y1 = (t) => Number(t).toString(2).padStart(12, "0"), It = (t) => parseInt(t, 2), Gm = /^[01]{12}$/;\nfunction Z1(t) {\n  return Gm.test(t);\n}\nvar zm = (t) => typeof t == "number" && t >= 0 && t <= 4095, Bm = (t) => t && Z1(t.chroma), Tt = { [T.chroma]: T };\nfunction p(t) {\n  const n = Z1(t) ? t : zm(t) ? Y1(t) : Array.isArray(t) ? ne(t) : Bm(t) ? t.chroma : T.chroma;\n  return Tt[n] = Tt[n] || te(n);\n}\nvar Lm = p, an = (t) => p(t).chroma, Hm = (t) => p(t).intervals, Um = (t) => p(t).setNum, Xm = [\n  "1P",\n  "2m",\n  "2M",\n  "3m",\n  "3M",\n  "4P",\n  "5d",\n  "5P",\n  "6m",\n  "6M",\n  "7m",\n  "7M"\n];\nfunction Km(t) {\n  const n = [];\n  for (let m = 0; m < 12; m++)\n    t.charAt(m) === "1" && n.push(Xm[m]);\n  return n;\n}\nfunction Jm(t) {\n  return p(t).intervals.map((n) => y("C", n));\n}\nfunction Qm() {\n  return l1(2048, 4095).map(Y1);\n}\nfunction tt(t, n = !0) {\n  const e = p(t).chroma.split("");\n  return W1(\n    e.map((r, o) => {\n      const M = z(o, e);\n      return n && M[0] === "0" ? null : M.join("");\n    })\n  );\n}\nfunction Wm(t, n) {\n  return p(t).setNum === p(n).setNum;\n}\nfunction f1(t) {\n  const n = p(t).setNum;\n  return (m) => {\n    const e = p(m).setNum;\n    return n && n !== e && (e & n) === e;\n  };\n}\nfunction h1(t) {\n  const n = p(t).setNum;\n  return (m) => {\n    const e = p(m).setNum;\n    return n && n !== e && (e | n) === e;\n  };\n}\nfunction sn(t) {\n  const n = p(t);\n  return (m) => {\n    const e = l(m);\n    return n && !e.empty && n.chroma.charAt(e.chroma) === "1";\n  };\n}\nfunction Ym(t) {\n  const n = sn(t);\n  return (m) => m.filter(n);\n}\nvar cn = {\n  get: p,\n  chroma: an,\n  num: Um,\n  intervals: Hm,\n  chromas: Qm,\n  isSupersetOf: h1,\n  isSubsetOf: f1,\n  isNoteIncludedIn: sn,\n  isEqual: Wm,\n  filter: Ym,\n  modes: tt,\n  notes: Jm,\n  // deprecated\n  pcset: Lm\n};\nfunction Zm(t) {\n  const n = t.split("");\n  return n.map((m, e) => z(e, n).join(""));\n}\nfunction te(t) {\n  const n = It(t), m = Zm(t).map(It).filter((o) => o >= 2048).sort()[0], e = Y1(m), r = Km(t);\n  return {\n    empty: !1,\n    name: "",\n    setNum: n,\n    chroma: t,\n    normalized: e,\n    intervals: r\n  };\n}\nfunction ne(t) {\n  if (t.length === 0)\n    return T.chroma;\n  let n;\n  const m = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  for (let e = 0; e < t.length; e++)\n    n = l(t[e]), n.empty && (n = N(t[e])), n.empty || (m[n.chroma] = 1);\n  return m.join("");\n}\nvar me = [\n  // ==Major==\n  ["1P 3M 5P", "major", "M ^  maj"],\n  ["1P 3M 5P 7M", "major seventh", "maj7 Δ ma7 M7 Maj7 ^7"],\n  ["1P 3M 5P 7M 9M", "major ninth", "maj9 Δ9 ^9"],\n  ["1P 3M 5P 7M 9M 13M", "major thirteenth", "maj13 Maj13 ^13"],\n  ["1P 3M 5P 6M", "sixth", "6 add6 add13 M6"],\n  ["1P 3M 5P 6M 9M", "sixth added ninth", "6add9 6/9 69 M69"],\n  ["1P 3M 6m 7M", "major seventh flat sixth", "M7b6 ^7b6"],\n  [\n    "1P 3M 5P 7M 11A",\n    "major seventh sharp eleventh",\n    "maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"\n  ],\n  // ==Minor==\n  // \'\'\'Normal\'\'\'\n  ["1P 3m 5P", "minor", "m min -"],\n  ["1P 3m 5P 7m", "minor seventh", "m7 min7 mi7 -7"],\n  [\n    "1P 3m 5P 7M",\n    "minor/major seventh",\n    "m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"\n  ],\n  ["1P 3m 5P 6M", "minor sixth", "m6 -6"],\n  ["1P 3m 5P 7m 9M", "minor ninth", "m9 -9"],\n  ["1P 3m 5P 7M 9M", "minor/major ninth", "mM9 mMaj9 -^9"],\n  ["1P 3m 5P 7m 9M 11P", "minor eleventh", "m11 -11"],\n  ["1P 3m 5P 7m 9M 13M", "minor thirteenth", "m13 -13"],\n  // \'\'\'Diminished\'\'\'\n  ["1P 3m 5d", "diminished", "dim ° o"],\n  ["1P 3m 5d 7d", "diminished seventh", "dim7 °7 o7"],\n  ["1P 3m 5d 7m", "half-diminished", "m7b5 ø -7b5 h7 h"],\n  // ==Dominant/Seventh==\n  // \'\'\'Normal\'\'\'\n  ["1P 3M 5P 7m", "dominant seventh", "7 dom"],\n  ["1P 3M 5P 7m 9M", "dominant ninth", "9"],\n  ["1P 3M 5P 7m 9M 13M", "dominant thirteenth", "13"],\n  ["1P 3M 5P 7m 11A", "lydian dominant seventh", "7#11 7#4"],\n  // \'\'\'Altered\'\'\'\n  ["1P 3M 5P 7m 9m", "dominant flat ninth", "7b9"],\n  ["1P 3M 5P 7m 9A", "dominant sharp ninth", "7#9"],\n  ["1P 3M 7m 9m", "altered", "alt7"],\n  // \'\'\'Suspended\'\'\'\n  ["1P 4P 5P", "suspended fourth", "sus4 sus"],\n  ["1P 2M 5P", "suspended second", "sus2"],\n  ["1P 4P 5P 7m", "suspended fourth seventh", "7sus4 7sus"],\n  ["1P 5P 7m 9M 11P", "eleventh", "11"],\n  [\n    "1P 4P 5P 7m 9m",\n    "suspended fourth flat ninth",\n    "b9sus phryg 7b9sus 7b9sus4"\n  ],\n  // ==Other==\n  ["1P 5P", "fifth", "5"],\n  ["1P 3M 5A", "augmented", "aug + +5 ^#5"],\n  ["1P 3m 5A", "minor augmented", "m#5 -#5 m+"],\n  ["1P 3M 5A 7M", "augmented seventh", "maj7#5 maj7+5 +maj7 ^7#5"],\n  [\n    "1P 3M 5P 7M 9M 11A",\n    "major sharp eleventh (lydian)",\n    "maj9#11 Δ9#11 ^9#11"\n  ],\n  // ==Legacy==\n  ["1P 2M 4P 5P", "", "sus24 sus4add9"],\n  ["1P 3M 5A 7M 9M", "", "maj9#5 Maj9#5"],\n  ["1P 3M 5A 7m", "", "7#5 +7 7+ 7aug aug7"],\n  ["1P 3M 5A 7m 9A", "", "7#5#9 7#9#5 7alt"],\n  ["1P 3M 5A 7m 9M", "", "9#5 9+"],\n  ["1P 3M 5A 7m 9M 11A", "", "9#5#11"],\n  ["1P 3M 5A 7m 9m", "", "7#5b9 7b9#5"],\n  ["1P 3M 5A 7m 9m 11A", "", "7#5b9#11"],\n  ["1P 3M 5A 9A", "", "+add#9"],\n  ["1P 3M 5A 9M", "", "M#5add9 +add9"],\n  ["1P 3M 5P 6M 11A", "", "M6#11 M6b5 6#11 6b5"],\n  ["1P 3M 5P 6M 7M 9M", "", "M7add13"],\n  ["1P 3M 5P 6M 9M 11A", "", "69#11"],\n  ["1P 3m 5P 6M 9M", "", "m69 -69"],\n  ["1P 3M 5P 6m 7m", "", "7b6"],\n  ["1P 3M 5P 7M 9A 11A", "", "maj7#9#11"],\n  ["1P 3M 5P 7M 9M 11A 13M", "", "M13#11 maj13#11 M13+4 M13#4"],\n  ["1P 3M 5P 7M 9m", "", "M7b9"],\n  ["1P 3M 5P 7m 11A 13m", "", "7#11b13 7b5b13"],\n  ["1P 3M 5P 7m 13M", "", "7add6 67 7add13"],\n  ["1P 3M 5P 7m 9A 11A", "", "7#9#11 7b5#9 7#9b5"],\n  ["1P 3M 5P 7m 9A 11A 13M", "", "13#9#11"],\n  ["1P 3M 5P 7m 9A 11A 13m", "", "7#9#11b13"],\n  ["1P 3M 5P 7m 9A 13M", "", "13#9"],\n  ["1P 3M 5P 7m 9A 13m", "", "7#9b13"],\n  ["1P 3M 5P 7m 9M 11A", "", "9#11 9+4 9#4"],\n  ["1P 3M 5P 7m 9M 11A 13M", "", "13#11 13+4 13#4"],\n  ["1P 3M 5P 7m 9M 11A 13m", "", "9#11b13 9b5b13"],\n  ["1P 3M 5P 7m 9m 11A", "", "7b9#11 7b5b9 7b9b5"],\n  ["1P 3M 5P 7m 9m 11A 13M", "", "13b9#11"],\n  ["1P 3M 5P 7m 9m 11A 13m", "", "7b9b13#11 7b9#11b13 7b5b9b13"],\n  ["1P 3M 5P 7m 9m 13M", "", "13b9"],\n  ["1P 3M 5P 7m 9m 13m", "", "7b9b13"],\n  ["1P 3M 5P 7m 9m 9A", "", "7b9#9"],\n  ["1P 3M 5P 9M", "", "Madd9 2 add9 add2"],\n  ["1P 3M 5P 9m", "", "Maddb9"],\n  ["1P 3M 5d", "", "Mb5"],\n  ["1P 3M 5d 6M 7m 9M", "", "13b5"],\n  ["1P 3M 5d 7M", "", "M7b5"],\n  ["1P 3M 5d 7M 9M", "", "M9b5"],\n  ["1P 3M 5d 7m", "", "7b5"],\n  ["1P 3M 5d 7m 9M", "", "9b5"],\n  ["1P 3M 7m", "", "7no5"],\n  ["1P 3M 7m 13m", "", "7b13"],\n  ["1P 3M 7m 9M", "", "9no5"],\n  ["1P 3M 7m 9M 13M", "", "13no5"],\n  ["1P 3M 7m 9M 13m", "", "9b13"],\n  ["1P 3m 4P 5P", "", "madd4"],\n  ["1P 3m 5P 6m 7M", "", "mMaj7b6"],\n  ["1P 3m 5P 6m 7M 9M", "", "mMaj9b6"],\n  ["1P 3m 5P 7m 11P", "", "m7add11 m7add4"],\n  ["1P 3m 5P 9M", "", "madd9"],\n  ["1P 3m 5d 6M 7M", "", "o7M7"],\n  ["1P 3m 5d 7M", "", "oM7"],\n  ["1P 3m 6m 7M", "", "mb6M7"],\n  ["1P 3m 6m 7m", "", "m7#5"],\n  ["1P 3m 6m 7m 9M", "", "m9#5"],\n  ["1P 3m 5A 7m 9M 11P", "", "m11A"],\n  ["1P 3m 6m 9m", "", "mb6b9"],\n  ["1P 2M 3m 5d 7m", "", "m9b5"],\n  ["1P 4P 5A 7M", "", "M7#5sus4"],\n  ["1P 4P 5A 7M 9M", "", "M9#5sus4"],\n  ["1P 4P 5A 7m", "", "7#5sus4"],\n  ["1P 4P 5P 7M", "", "M7sus4"],\n  ["1P 4P 5P 7M 9M", "", "M9sus4"],\n  ["1P 4P 5P 7m 9M", "", "9sus4 9sus"],\n  ["1P 4P 5P 7m 9M 13M", "", "13sus4 13sus"],\n  ["1P 4P 5P 7m 9m 13m", "", "7sus4b9b13 7b9b13sus4"],\n  ["1P 4P 7m 10m", "", "4 quartal"],\n  ["1P 5P 7m 9m 11P", "", "11b9"]\n], ee = me;\n({\n  ...T\n});\nvar nt = [], r1 = {};\nfunction un() {\n  return nt.slice();\n}\nfunction re(t, n, m) {\n  const e = Me(t), r = {\n    ...p(t),\n    name: m || "",\n    quality: e,\n    intervals: t,\n    aliases: n\n  };\n  nt.push(r), r.name && (r1[r.name] = r), r1[r.setNum] = r, r1[r.chroma] = r, r.aliases.forEach((o) => oe(r, o));\n}\nfunction oe(t, n) {\n  r1[n] = t;\n}\nfunction Me(t) {\n  const n = (m) => t.indexOf(m) !== -1;\n  return n("5A") ? "Augmented" : n("3M") ? "Major" : n("5d") ? "Diminished" : n("3m") ? "Minor" : "Unknown";\n}\nee.forEach(\n  ([t, n, m]) => re(t.split(" "), m.split(" "), n)\n);\nnt.sort((t, n) => t.setNum - n.setNum);\nvar Pe = (t) => {\n  const n = t.reduce((m, e) => {\n    const r = l(e).chroma;\n    return r !== void 0 && (m[r] = m[r] || l(e).name), m;\n  }, {});\n  return (m) => n[m];\n};\nfunction ae(t, n = {}) {\n  const m = t.map((r) => l(r).pc).filter((r) => r);\n  return l.length === 0 ? [] : fe(m, 1, n).filter((r) => r.weight).sort((r, o) => o.weight - r.weight).map((r) => r.name);\n}\nvar p1 = {\n  // 3m 000100000000\n  // 3M 000010000000\n  anyThirds: 384,\n  // 5P 000000010000\n  perfectFifth: 16,\n  // 5d 000000100000\n  // 5A 000000001000\n  nonPerfectFifths: 40,\n  anySeventh: 3\n}, b1 = (t) => (n) => !!(n & t), ie = b1(p1.anyThirds), se = b1(p1.perfectFifth), ce = b1(p1.anySeventh), ue = b1(p1.nonPerfectFifths);\nfunction de(t) {\n  const n = parseInt(t.chroma, 2);\n  return ie(n) && se(n) && ce(n);\n}\nfunction le(t) {\n  const n = parseInt(t, 2);\n  return ue(n) ? t : (n | 16).toString(2);\n}\nfunction fe(t, n, m) {\n  const e = t[0], r = l(e).chroma, o = Pe(t), M = tt(t, !1), P = [];\n  return M.forEach((a, i) => {\n    const s = m.assumePerfectFifth && le(a);\n    un().filter((c) => m.assumePerfectFifth && de(c) ? c.chroma === s : c.chroma === a).forEach((c) => {\n      const d = c.aliases[0], f = o(i);\n      i !== r ? P.push({\n        weight: 0.5 * n,\n        name: `${f}${d}/${e}`\n      }) : P.push({ weight: 1 * n, name: `${f}${d}` });\n    });\n  }), P;\n}\nfunction Y(t) {\n  return t !== null && typeof t == "object" && "name" in t && typeof t.name == "string";\n}\nvar dn = [0, 2, 4, 5, 7, 9, 11], ln = ({ step: t, alt: n }) => (dn[t] + n + 120) % 12, mt = ({ step: t, alt: n, oct: m, dir: e = 1 }) => e * (dn[t] + n + 12 * (m === void 0 ? -100 : m)), fn = (t) => {\n  const n = mt(t);\n  return t.oct !== void 0 && n >= -12 && n <= 115 ? n + 12 : null;\n};\nfunction v1(t) {\n  return t !== null && typeof t == "object" && "step" in t && typeof t.step == "number" && "alt" in t && typeof t.alt == "number";\n}\nvar hn = [0, 2, 4, -1, 1, 3, 5], pn = hn.map(\n  (t) => Math.floor(t * 7 / 12)\n);\nfunction g1(t) {\n  const { step: n, alt: m, oct: e, dir: r = 1 } = t, o = hn[n] + 7 * m;\n  if (e === void 0)\n    return [r * o];\n  const M = e - pn[n] - 4 * m;\n  return [r * o, r * M];\n}\nvar he = [3, 0, 4, 1, 5, 2, 6];\nfunction y1(t) {\n  const [n, m, e] = t, r = he[pe(n)], o = Math.floor((n + 1) / 7);\n  if (m === void 0)\n    return { step: r, alt: o, dir: e };\n  const M = m + 4 * o + pn[r];\n  return { step: r, alt: o, oct: M, dir: e };\n}\nfunction pe(t) {\n  const n = (t + 1) % 7;\n  return n < 0 ? 7 + n : n;\n}\nvar _t = (t, n) => Array(Math.abs(n) + 1).join(t), G1 = { empty: !0, name: "", acc: "" }, be = "([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})", ve = "(AA|A|P|M|m|d|dd)([-+]?\\\\d+)", ge = new RegExp(\n  "^" + be + "|" + ve + "$"\n);\nfunction et(t) {\n  const n = ge.exec(`${t}`);\n  return n === null ? ["", ""] : n[1] ? [n[1], n[2]] : [n[4], n[3]];\n}\nvar Ct = {};\nfunction b(t) {\n  return typeof t == "string" ? Ct[t] || (Ct[t] = ye(t)) : v1(t) ? b($e(t)) : Y(t) ? b(t.name) : G1;\n}\nvar Et = [0, 2, 4, 5, 7, 9, 11], bn = "PMMPPMM";\nfunction ye(t) {\n  const n = et(t);\n  if (n[0] === "")\n    return G1;\n  const m = +n[0], e = n[1], r = (Math.abs(m) - 1) % 7, o = bn[r];\n  if (o === "M" && e === "P")\n    return G1;\n  const M = o === "M" ? "majorable" : "perfectable", P = "" + m + e, a = m < 0 ? -1 : 1, i = m === 8 || m === -8 ? m : a * (r + 1), s = Ae(M, e), u = Math.floor((Math.abs(m) - 1) / 7), c = a * (Et[r] + s + 12 * u), d = (a * (Et[r] + s) % 12 + 12) % 12, f = g1({ step: r, alt: s, oct: u, dir: a });\n  return {\n    empty: !1,\n    name: P,\n    num: m,\n    q: e,\n    step: r,\n    alt: s,\n    dir: a,\n    type: M,\n    simple: i,\n    semitones: c,\n    chroma: d,\n    coord: f,\n    oct: u\n  };\n}\nfunction Z(t, n) {\n  const [m, e = 0] = t, r = m * 7 + e * 12 < 0, o = n || r ? [-m, -e, -1] : [m, e, 1];\n  return b(y1(o));\n}\nfunction Ae(t, n) {\n  return n === "M" && t === "majorable" || n === "P" && t === "perfectable" ? 0 : n === "m" && t === "majorable" ? -1 : /^A+$/.test(n) ? n.length : /^d+$/.test(n) ? -1 * (t === "perfectable" ? n.length : n.length + 1) : 0;\n}\nfunction $e(t) {\n  const { step: n, alt: m, oct: e = 0, dir: r } = t;\n  if (!r)\n    return "";\n  const o = n + 1 + 7 * e, M = o === 0 ? n + 1 : o, P = r < 0 ? "-" : "", a = bn[n] === "M" ? "majorable" : "perfectable";\n  return P + M + Ne(a, m);\n}\nfunction Ne(t, n) {\n  return n === 0 ? t === "majorable" ? "M" : "P" : n === -1 && t === "majorable" ? "m" : n > 0 ? _t("A", n) : _t("d", t === "perfectable" ? n : n + 1);\n}\nvar Dt = (t, n) => Array(Math.abs(n) + 1).join(t), vn = { empty: !0, name: "", pc: "", acc: "" }, wt = /* @__PURE__ */ new Map(), rt = (t) => "CDEFGAB".charAt(t), ot = (t) => t < 0 ? Dt("b", -t) : Dt("#", t), Mt = (t) => t[0] === "b" ? -t.length : t.length;\nfunction j(t) {\n  const n = JSON.stringify(t), m = wt.get(n);\n  if (m)\n    return m;\n  const e = typeof t == "string" ? Ie(t) : v1(t) ? j(Te(t)) : Y(t) ? j(t.name) : vn;\n  return wt.set(n, e), e;\n}\nvar je = /^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/;\nfunction A1(t) {\n  const n = je.exec(t);\n  return n ? [n[1].toUpperCase(), n[2].replace(/x/g, "##"), n[3], n[4]] : ["", "", "", ""];\n}\nfunction Pt(t) {\n  return j(y1(t));\n}\nvar Se = (t, n) => (t % n + n) % n, x1 = [0, 2, 4, 5, 7, 9, 11];\nfunction Ie(t) {\n  const n = A1(t);\n  if (n[0] === "" || n[3] !== "")\n    return vn;\n  const m = n[0], e = n[1], r = n[2], o = (m.charCodeAt(0) + 3) % 7, M = Mt(e), P = r.length ? +r : void 0, a = g1({ step: o, alt: M, oct: P }), i = m + e + r, s = m + e, u = (x1[o] + M + 120) % 12, c = P === void 0 ? Se(x1[o] + M, 12) - 12 * 99 : x1[o] + M + 12 * (P + 1), d = c >= 0 && c <= 127 ? c : null, f = P === void 0 ? null : Math.pow(2, (c - 69) / 12) * 440;\n  return {\n    empty: !1,\n    acc: e,\n    alt: M,\n    chroma: u,\n    coord: a,\n    freq: f,\n    height: c,\n    letter: m,\n    midi: d,\n    name: i,\n    oct: P,\n    pc: s,\n    step: o\n  };\n}\nfunction Te(t) {\n  const { step: n, alt: m, oct: e } = t, r = rt(n);\n  if (!r)\n    return "";\n  const o = r + ot(m);\n  return e || e === 0 ? o + e : o;\n}\nfunction F(t, n) {\n  const m = j(t), e = Array.isArray(n) ? n : b(n).coord;\n  if (m.empty || !e || e.length < 2)\n    return "";\n  const r = m.coord, o = r.length === 1 ? [r[0] + e[0]] : [r[0] + e[0], r[1] + e[1]];\n  return Pt(o).name;\n}\nfunction $1(t, n) {\n  const m = t.length;\n  return (e) => {\n    if (!n)\n      return "";\n    const r = e < 0 ? (m - -e % m) % m : e % m, o = Math.floor(e / m), M = F(n, [0, o]);\n    return F(M, t[r]);\n  };\n}\nfunction at(t, n) {\n  const m = j(t), e = j(n);\n  if (m.empty || e.empty)\n    return "";\n  const r = m.coord, o = e.coord, M = o[0] - r[0], P = r.length === 2 && o.length === 2 ? o[1] - r[1] : -Math.floor(M * 7 / 12), a = e.height === m.height && e.midi !== null && m.midi !== null && m.step > e.step;\n  return Z([M, P], a).name;\n}\nvar gn = (t, n) => Array(Math.abs(n) + 1).join(t);\nfunction B(t, n, m) {\n  return function(...e) {\n    return console.warn(`${t} is deprecated. Use ${n}.`), m.apply(this, e);\n  };\n}\nvar yn = B("isNamed", "isNamedPitch", Y);\nconst An = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  accToAlt: Mt,\n  altToAcc: ot,\n  chroma: ln,\n  coordToInterval: Z,\n  coordToNote: Pt,\n  coordinates: g1,\n  deprecate: B,\n  distance: at,\n  fillStr: gn,\n  height: mt,\n  interval: b,\n  isNamed: yn,\n  isNamedPitch: Y,\n  isPitch: v1,\n  midi: fn,\n  note: j,\n  pitch: y1,\n  stepToLetter: rt,\n  tokenizeInterval: et,\n  tokenizeNote: A1,\n  tonicIntervalsTransposer: $1,\n  transpose: F\n}, Symbol.toStringTag, { value: "Module" }));\nvar _e = [\n  ["1P 3M 5P", "major", "M ^  maj"],\n  ["1P 3M 5P 7M", "major seventh", "maj7 Δ ma7 M7 Maj7 ^7"],\n  ["1P 3M 5P 7M 9M", "major ninth", "maj9 Δ9 ^9"],\n  ["1P 3M 5P 7M 9M 13M", "major thirteenth", "maj13 Maj13 ^13"],\n  ["1P 3M 5P 6M", "sixth", "6 add6 add13 M6"],\n  ["1P 3M 5P 6M 9M", "sixth added ninth", "6add9 6/9 69 M69"],\n  ["1P 3M 6m 7M", "major seventh flat sixth", "M7b6 ^7b6"],\n  [\n    "1P 3M 5P 7M 11A",\n    "major seventh sharp eleventh",\n    "maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"\n  ],\n  ["1P 3m 5P", "minor", "m min -"],\n  ["1P 3m 5P 7m", "minor seventh", "m7 min7 mi7 -7"],\n  [\n    "1P 3m 5P 7M",\n    "minor/major seventh",\n    "m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"\n  ],\n  ["1P 3m 5P 6M", "minor sixth", "m6 -6"],\n  ["1P 3m 5P 7m 9M", "minor ninth", "m9 -9"],\n  ["1P 3m 5P 7M 9M", "minor/major ninth", "mM9 mMaj9 -^9"],\n  ["1P 3m 5P 7m 9M 11P", "minor eleventh", "m11 -11"],\n  ["1P 3m 5P 7m 9M 13M", "minor thirteenth", "m13 -13"],\n  ["1P 3m 5d", "diminished", "dim ° o"],\n  ["1P 3m 5d 7d", "diminished seventh", "dim7 °7 o7"],\n  ["1P 3m 5d 7m", "half-diminished", "m7b5 ø -7b5 h7 h"],\n  ["1P 3M 5P 7m", "dominant seventh", "7 dom"],\n  ["1P 3M 5P 7m 9M", "dominant ninth", "9"],\n  ["1P 3M 5P 7m 9M 13M", "dominant thirteenth", "13"],\n  ["1P 3M 5P 7m 11A", "lydian dominant seventh", "7#11 7#4"],\n  ["1P 3M 5P 7m 9m", "dominant flat ninth", "7b9"],\n  ["1P 3M 5P 7m 9A", "dominant sharp ninth", "7#9"],\n  ["1P 3M 7m 9m", "altered", "alt7"],\n  ["1P 4P 5P", "suspended fourth", "sus4 sus"],\n  ["1P 2M 5P", "suspended second", "sus2"],\n  ["1P 4P 5P 7m", "suspended fourth seventh", "7sus4 7sus"],\n  ["1P 5P 7m 9M 11P", "eleventh", "11"],\n  [\n    "1P 4P 5P 7m 9m",\n    "suspended fourth flat ninth",\n    "b9sus phryg 7b9sus 7b9sus4"\n  ],\n  ["1P 5P", "fifth", "5"],\n  ["1P 3M 5A", "augmented", "aug + +5 ^#5"],\n  ["1P 3m 5A", "minor augmented", "m#5 -#5 m+"],\n  ["1P 3M 5A 7M", "augmented seventh", "maj7#5 maj7+5 +maj7 ^7#5"],\n  [\n    "1P 3M 5P 7M 9M 11A",\n    "major sharp eleventh (lydian)",\n    "maj9#11 Δ9#11 ^9#11"\n  ],\n  ["1P 2M 4P 5P", "", "sus24 sus4add9"],\n  ["1P 3M 5A 7M 9M", "", "maj9#5 Maj9#5"],\n  ["1P 3M 5A 7m", "", "7#5 +7 7+ 7aug aug7"],\n  ["1P 3M 5A 7m 9A", "", "7#5#9 7#9#5 7alt"],\n  ["1P 3M 5A 7m 9M", "", "9#5 9+"],\n  ["1P 3M 5A 7m 9M 11A", "", "9#5#11"],\n  ["1P 3M 5A 7m 9m", "", "7#5b9 7b9#5"],\n  ["1P 3M 5A 7m 9m 11A", "", "7#5b9#11"],\n  ["1P 3M 5A 9A", "", "+add#9"],\n  ["1P 3M 5A 9M", "", "M#5add9 +add9"],\n  ["1P 3M 5P 6M 11A", "", "M6#11 M6b5 6#11 6b5"],\n  ["1P 3M 5P 6M 7M 9M", "", "M7add13"],\n  ["1P 3M 5P 6M 9M 11A", "", "69#11"],\n  ["1P 3m 5P 6M 9M", "", "m69 -69"],\n  ["1P 3M 5P 6m 7m", "", "7b6"],\n  ["1P 3M 5P 7M 9A 11A", "", "maj7#9#11"],\n  ["1P 3M 5P 7M 9M 11A 13M", "", "M13#11 maj13#11 M13+4 M13#4"],\n  ["1P 3M 5P 7M 9m", "", "M7b9"],\n  ["1P 3M 5P 7m 11A 13m", "", "7#11b13 7b5b13"],\n  ["1P 3M 5P 7m 13M", "", "7add6 67 7add13"],\n  ["1P 3M 5P 7m 9A 11A", "", "7#9#11 7b5#9 7#9b5"],\n  ["1P 3M 5P 7m 9A 11A 13M", "", "13#9#11"],\n  ["1P 3M 5P 7m 9A 11A 13m", "", "7#9#11b13"],\n  ["1P 3M 5P 7m 9A 13M", "", "13#9"],\n  ["1P 3M 5P 7m 9A 13m", "", "7#9b13"],\n  ["1P 3M 5P 7m 9M 11A", "", "9#11 9+4 9#4"],\n  ["1P 3M 5P 7m 9M 11A 13M", "", "13#11 13+4 13#4"],\n  ["1P 3M 5P 7m 9M 11A 13m", "", "9#11b13 9b5b13"],\n  ["1P 3M 5P 7m 9m 11A", "", "7b9#11 7b5b9 7b9b5"],\n  ["1P 3M 5P 7m 9m 11A 13M", "", "13b9#11"],\n  ["1P 3M 5P 7m 9m 11A 13m", "", "7b9b13#11 7b9#11b13 7b5b9b13"],\n  ["1P 3M 5P 7m 9m 13M", "", "13b9"],\n  ["1P 3M 5P 7m 9m 13m", "", "7b9b13"],\n  ["1P 3M 5P 7m 9m 9A", "", "7b9#9"],\n  ["1P 3M 5P 9M", "", "Madd9 2 add9 add2"],\n  ["1P 3M 5P 9m", "", "Maddb9"],\n  ["1P 3M 5d", "", "Mb5"],\n  ["1P 3M 5d 6M 7m 9M", "", "13b5"],\n  ["1P 3M 5d 7M", "", "M7b5"],\n  ["1P 3M 5d 7M 9M", "", "M9b5"],\n  ["1P 3M 5d 7m", "", "7b5"],\n  ["1P 3M 5d 7m 9M", "", "9b5"],\n  ["1P 3M 7m", "", "7no5"],\n  ["1P 3M 7m 13m", "", "7b13"],\n  ["1P 3M 7m 9M", "", "9no5"],\n  ["1P 3M 7m 9M 13M", "", "13no5"],\n  ["1P 3M 7m 9M 13m", "", "9b13"],\n  ["1P 3m 4P 5P", "", "madd4"],\n  ["1P 3m 5P 6m 7M", "", "mMaj7b6"],\n  ["1P 3m 5P 6m 7M 9M", "", "mMaj9b6"],\n  ["1P 3m 5P 7m 11P", "", "m7add11 m7add4"],\n  ["1P 3m 5P 9M", "", "madd9"],\n  ["1P 3m 5d 6M 7M", "", "o7M7"],\n  ["1P 3m 5d 7M", "", "oM7"],\n  ["1P 3m 6m 7M", "", "mb6M7"],\n  ["1P 3m 6m 7m", "", "m7#5"],\n  ["1P 3m 6m 7m 9M", "", "m9#5"],\n  ["1P 3m 5A 7m 9M 11P", "", "m11A"],\n  ["1P 3m 6m 9m", "", "mb6b9"],\n  ["1P 2M 3m 5d 7m", "", "m9b5"],\n  ["1P 4P 5A 7M", "", "M7#5sus4"],\n  ["1P 4P 5A 7M 9M", "", "M9#5sus4"],\n  ["1P 4P 5A 7m", "", "7#5sus4"],\n  ["1P 4P 5P 7M", "", "M7sus4"],\n  ["1P 4P 5P 7M 9M", "", "M9sus4"],\n  ["1P 4P 5P 7m 9M", "", "9sus4 9sus"],\n  ["1P 4P 5P 7m 9M 13M", "", "13sus4 13sus"],\n  ["1P 4P 5P 7m 9m 13m", "", "7sus4b9b13 7b9b13sus4"],\n  ["1P 4P 7m 10m", "", "4 quartal"],\n  ["1P 5P 7m 9m 11P", "", "11b9"]\n], Ce = _e, Ee = {\n  ...T,\n  name: "",\n  quality: "Unknown",\n  intervals: [],\n  aliases: []\n}, L = [], D = {};\nfunction it(t) {\n  return D[t] || Ee;\n}\nvar De = B("ChordType.chordType", "ChordType.get", it);\nfunction we() {\n  return L.map((t) => t.name).filter((t) => t);\n}\nfunction xe() {\n  return L.map((t) => t.aliases[0]).filter((t) => t);\n}\nfunction Ve() {\n  return Object.keys(D);\n}\nfunction N1() {\n  return L.slice();\n}\nvar Re = B("ChordType.entries", "ChordType.all", N1);\nfunction ke() {\n  L = [], D = {};\n}\nfunction $n(t, n, m) {\n  const e = Oe(t), r = {\n    ...p(t),\n    name: m || "",\n    quality: e,\n    intervals: t,\n    aliases: n\n  };\n  L.push(r), r.name && (D[r.name] = r), D[r.setNum] = r, D[r.chroma] = r, r.aliases.forEach((o) => Fe(r, o));\n}\nfunction Fe(t, n) {\n  D[n] = t;\n}\nfunction Oe(t) {\n  const n = (m) => t.indexOf(m) !== -1;\n  return n("5A") ? "Augmented" : n("3M") ? "Major" : n("5d") ? "Diminished" : n("3m") ? "Minor" : "Unknown";\n}\nCe.forEach(\n  ([t, n, m]) => $n(t.split(" "), m.split(" "), n)\n);\nL.sort((t, n) => t.setNum - n.setNum);\nvar Nn = {\n  names: we,\n  symbols: xe,\n  get: it,\n  all: N1,\n  add: $n,\n  removeAll: ke,\n  keys: Ve,\n  entries: Re,\n  chordType: De\n}, qe = [\n  // Basic scales\n  ["1P 2M 3M 5P 6M", "major pentatonic", "pentatonic"],\n  ["1P 2M 3M 4P 5P 6M 7M", "major", "ionian"],\n  ["1P 2M 3m 4P 5P 6m 7m", "minor", "aeolian"],\n  // Jazz common scales\n  ["1P 2M 3m 3M 5P 6M", "major blues"],\n  ["1P 3m 4P 5d 5P 7m", "minor blues", "blues"],\n  ["1P 2M 3m 4P 5P 6M 7M", "melodic minor"],\n  ["1P 2M 3m 4P 5P 6m 7M", "harmonic minor"],\n  ["1P 2M 3M 4P 5P 6M 7m 7M", "bebop"],\n  ["1P 2M 3m 4P 5d 6m 6M 7M", "diminished", "whole-half diminished"],\n  // Modes\n  ["1P 2M 3m 4P 5P 6M 7m", "dorian"],\n  ["1P 2M 3M 4A 5P 6M 7M", "lydian"],\n  ["1P 2M 3M 4P 5P 6M 7m", "mixolydian", "dominant"],\n  ["1P 2m 3m 4P 5P 6m 7m", "phrygian"],\n  ["1P 2m 3m 4P 5d 6m 7m", "locrian"],\n  // 5-note scales\n  ["1P 3M 4P 5P 7M", "ionian pentatonic"],\n  ["1P 3M 4P 5P 7m", "mixolydian pentatonic", "indian"],\n  ["1P 2M 4P 5P 6M", "ritusen"],\n  ["1P 2M 4P 5P 7m", "egyptian"],\n  ["1P 3M 4P 5d 7m", "neopolitan major pentatonic"],\n  ["1P 3m 4P 5P 6m", "vietnamese 1"],\n  ["1P 2m 3m 5P 6m", "pelog"],\n  ["1P 2m 4P 5P 6m", "kumoijoshi"],\n  ["1P 2M 3m 5P 6m", "hirajoshi"],\n  ["1P 2m 4P 5d 7m", "iwato"],\n  ["1P 2m 4P 5P 7m", "in-sen"],\n  ["1P 3M 4A 5P 7M", "lydian pentatonic", "chinese"],\n  ["1P 3m 4P 6m 7m", "malkos raga"],\n  ["1P 3m 4P 5d 7m", "locrian pentatonic", "minor seven flat five pentatonic"],\n  ["1P 3m 4P 5P 7m", "minor pentatonic", "vietnamese 2"],\n  ["1P 3m 4P 5P 6M", "minor six pentatonic"],\n  ["1P 2M 3m 5P 6M", "flat three pentatonic", "kumoi"],\n  ["1P 2M 3M 5P 6m", "flat six pentatonic"],\n  ["1P 2m 3M 5P 6M", "scriabin"],\n  ["1P 3M 5d 6m 7m", "whole tone pentatonic"],\n  ["1P 3M 4A 5A 7M", "lydian #5P pentatonic"],\n  ["1P 3M 4A 5P 7m", "lydian dominant pentatonic"],\n  ["1P 3m 4P 5P 7M", "minor #7M pentatonic"],\n  ["1P 3m 4d 5d 7m", "super locrian pentatonic"],\n  // 6-note scales\n  ["1P 2M 3m 4P 5P 7M", "minor hexatonic"],\n  ["1P 2A 3M 5P 5A 7M", "augmented"],\n  ["1P 2M 4P 5P 6M 7m", "piongio"],\n  ["1P 2m 3M 4A 6M 7m", "prometheus neopolitan"],\n  ["1P 2M 3M 4A 6M 7m", "prometheus"],\n  ["1P 2m 3M 5d 6m 7m", "mystery #1"],\n  ["1P 2m 3M 4P 5A 6M", "six tone symmetric"],\n  ["1P 2M 3M 4A 5A 6A", "whole tone", "messiaen\'s mode #1"],\n  ["1P 2m 4P 4A 5P 7M", "messiaen\'s mode #5"],\n  // 7-note scales\n  ["1P 2M 3M 4P 5d 6m 7m", "locrian major", "arabian"],\n  ["1P 2m 3M 4A 5P 6m 7M", "double harmonic lydian"],\n  [\n    "1P 2m 2A 3M 4A 6m 7m",\n    "altered",\n    "super locrian",\n    "diminished whole tone",\n    "pomeroy"\n  ],\n  ["1P 2M 3m 4P 5d 6m 7m", "locrian #2", "half-diminished", "aeolian b5"],\n  [\n    "1P 2M 3M 4P 5P 6m 7m",\n    "mixolydian b6",\n    "melodic minor fifth mode",\n    "hindu"\n  ],\n  ["1P 2M 3M 4A 5P 6M 7m", "lydian dominant", "lydian b7", "overtone"],\n  ["1P 2M 3M 4A 5A 6M 7M", "lydian augmented"],\n  [\n    "1P 2m 3m 4P 5P 6M 7m",\n    "dorian b2",\n    "phrygian #6",\n    "melodic minor second mode"\n  ],\n  [\n    "1P 2m 3m 4d 5d 6m 7d",\n    "ultralocrian",\n    "superlocrian bb7",\n    "superlocrian diminished"\n  ],\n  ["1P 2m 3m 4P 5d 6M 7m", "locrian 6", "locrian natural 6", "locrian sharp 6"],\n  ["1P 2A 3M 4P 5P 5A 7M", "augmented heptatonic"],\n  // Source https://en.wikipedia.org/wiki/Ukrainian_Dorian_scale\n  [\n    "1P 2M 3m 4A 5P 6M 7m",\n    "dorian #4",\n    "ukrainian dorian",\n    "romanian minor",\n    "altered dorian"\n  ],\n  ["1P 2M 3m 4A 5P 6M 7M", "lydian diminished"],\n  ["1P 2M 3M 4A 5A 7m 7M", "leading whole tone"],\n  ["1P 2M 3M 4A 5P 6m 7m", "lydian minor"],\n  ["1P 2m 3M 4P 5P 6m 7m", "phrygian dominant", "spanish", "phrygian major"],\n  ["1P 2m 3m 4P 5P 6m 7M", "balinese"],\n  ["1P 2m 3m 4P 5P 6M 7M", "neopolitan major"],\n  ["1P 2M 3M 4P 5P 6m 7M", "harmonic major"],\n  ["1P 2m 3M 4P 5P 6m 7M", "double harmonic major", "gypsy"],\n  ["1P 2M 3m 4A 5P 6m 7M", "hungarian minor"],\n  ["1P 2A 3M 4A 5P 6M 7m", "hungarian major"],\n  ["1P 2m 3M 4P 5d 6M 7m", "oriental"],\n  ["1P 2m 3m 3M 4A 5P 7m", "flamenco"],\n  ["1P 2m 3m 4A 5P 6m 7M", "todi raga"],\n  ["1P 2m 3M 4P 5d 6m 7M", "persian"],\n  ["1P 2m 3M 5d 6m 7m 7M", "enigmatic"],\n  [\n    "1P 2M 3M 4P 5A 6M 7M",\n    "major augmented",\n    "major #5",\n    "ionian augmented",\n    "ionian #5"\n  ],\n  ["1P 2A 3M 4A 5P 6M 7M", "lydian #9"],\n  // 8-note scales\n  ["1P 2m 2M 4P 4A 5P 6m 7M", "messiaen\'s mode #4"],\n  ["1P 2m 3M 4P 4A 5P 6m 7M", "purvi raga"],\n  ["1P 2m 3m 3M 4P 5P 6m 7m", "spanish heptatonic"],\n  ["1P 2M 3m 3M 4P 5P 6M 7m", "bebop minor"],\n  ["1P 2M 3M 4P 5P 5A 6M 7M", "bebop major"],\n  ["1P 2m 3m 4P 5d 5P 6m 7m", "bebop locrian"],\n  ["1P 2M 3m 4P 5P 6m 7m 7M", "minor bebop"],\n  ["1P 2M 3M 4P 5d 5P 6M 7M", "ichikosucho"],\n  ["1P 2M 3m 4P 5P 6m 6M 7M", "minor six diminished"],\n  [\n    "1P 2m 3m 3M 4A 5P 6M 7m",\n    "half-whole diminished",\n    "dominant diminished",\n    "messiaen\'s mode #2"\n  ],\n  ["1P 3m 3M 4P 5P 6M 7m 7M", "kafi raga"],\n  ["1P 2M 3M 4P 4A 5A 6A 7M", "messiaen\'s mode #6"],\n  // 9-note scales\n  ["1P 2M 3m 3M 4P 5d 5P 6M 7m", "composite blues"],\n  ["1P 2M 3m 3M 4A 5P 6m 7m 7M", "messiaen\'s mode #3"],\n  // 10-note scales\n  ["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M", "messiaen\'s mode #7"],\n  // 12-note scales\n  ["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M", "chromatic"]\n], Ge = qe, ze = {\n  ...T,\n  intervals: [],\n  aliases: []\n}, j1 = [], w = {};\nfunction jn() {\n  return j1.map((t) => t.name);\n}\nfunction S1(t) {\n  return w[t] || ze;\n}\nvar Be = S1;\nfunction H() {\n  return j1.slice();\n}\nvar Le = H;\nfunction He() {\n  return Object.keys(w);\n}\nfunction Ue() {\n  j1 = [], w = {};\n}\nfunction Sn(t, n, m = []) {\n  const e = { ...p(t), name: n, intervals: t, aliases: m };\n  return j1.push(e), w[e.name] = e, w[e.setNum] = e, w[e.chroma] = e, e.aliases.forEach((r) => Xe(e, r)), e;\n}\nfunction Xe(t, n) {\n  w[n] = t;\n}\nGe.forEach(\n  ([t, n, ...m]) => Sn(t.split(" "), n, m)\n);\nvar In = {\n  names: jn,\n  get: S1,\n  all: H,\n  add: Sn,\n  removeAll: Ue,\n  keys: He,\n  // deprecated\n  entries: Le,\n  scaleType: Be\n}, z1 = {\n  empty: !0,\n  name: "",\n  symbol: "",\n  root: "",\n  rootDegree: 0,\n  type: "",\n  tonic: null,\n  setNum: NaN,\n  quality: "Unknown",\n  chroma: "",\n  normalized: "",\n  aliases: [],\n  notes: [],\n  intervals: []\n};\nfunction st(t) {\n  const [n, m, e, r] = A1(t);\n  return n === "" ? ["", t] : n === "A" && r === "ug" ? ["", "aug"] : [n + m, e + r];\n}\nfunction R(t) {\n  if (t === "")\n    return z1;\n  if (Array.isArray(t) && t.length === 2)\n    return o1(t[1], t[0]);\n  {\n    const [n, m] = st(t), e = o1(m, n);\n    return e.empty ? o1(t) : e;\n  }\n}\nfunction o1(t, n, m) {\n  const e = it(t), r = j(n || ""), o = j(m || "");\n  if (e.empty || n && r.empty || m && o.empty)\n    return z1;\n  const M = at(r.pc, o.pc), P = e.intervals.indexOf(M) + 1;\n  if (!o.empty && !P)\n    return z1;\n  const a = Array.from(e.intervals);\n  for (let c = 1; c < P; c++) {\n    const d = a[0][0], f = a[0][1], I = parseInt(d, 10) + 7;\n    a.push(`${I}${f}`), a.shift();\n  }\n  const i = r.empty ? [] : a.map((c) => F(r, c));\n  t = e.aliases.indexOf(t) !== -1 ? t : e.aliases[0];\n  const s = `${r.empty ? "" : r.pc}${t}${o.empty || P <= 1 ? "" : "/" + o.pc}`, u = `${n ? r.pc + " " : ""}${e.name}${P > 1 && m ? " over " + o.pc : ""}`;\n  return {\n    ...e,\n    name: u,\n    symbol: s,\n    type: e.name,\n    root: o.name,\n    intervals: a,\n    rootDegree: P,\n    tonic: r.name,\n    notes: i\n  };\n}\nvar Ke = B("Chord.chord", "Chord.get", R);\nfunction Je(t, n) {\n  const [m, e] = st(t);\n  return m ? F(m, n) + e : t;\n}\nfunction Qe(t) {\n  const n = R(t), m = h1(n.chroma);\n  return H().filter((e) => m(e.chroma)).map((e) => e.name);\n}\nfunction We(t) {\n  const n = R(t), m = h1(n.chroma);\n  return N1().filter((e) => m(e.chroma)).map((e) => n.tonic + e.aliases[0]);\n}\nfunction Ye(t) {\n  const n = R(t), m = f1(n.chroma);\n  return N1().filter((e) => m(e.chroma)).map((e) => n.tonic + e.aliases[0]);\n}\nfunction Ze(t) {\n  const { intervals: n, tonic: m } = R(t), e = $1(n, m);\n  return (r) => r ? e(r > 0 ? r - 1 : r) : "";\n}\nfunction tr(t) {\n  const { intervals: n, tonic: m } = R(t);\n  return $1(n, m);\n}\nvar nr = {\n  getChord: o1,\n  get: R,\n  detect: ae,\n  chordScales: Qe,\n  extended: We,\n  reduced: Ye,\n  tokenize: st,\n  transpose: Je,\n  degrees: Ze,\n  steps: tr,\n  chord: Ke\n}, mr = [\n  [\n    0.125,\n    "dl",\n    ["large", "duplex longa", "maxima", "octuple", "octuple whole"]\n  ],\n  [0.25, "l", ["long", "longa"]],\n  [0.5, "d", ["double whole", "double", "breve"]],\n  [1, "w", ["whole", "semibreve"]],\n  [2, "h", ["half", "minim"]],\n  [4, "q", ["quarter", "crotchet"]],\n  [8, "e", ["eighth", "quaver"]],\n  [16, "s", ["sixteenth", "semiquaver"]],\n  [32, "t", ["thirty-second", "demisemiquaver"]],\n  [64, "sf", ["sixty-fourth", "hemidemisemiquaver"]],\n  [128, "h", ["hundred twenty-eighth"]],\n  [256, "th", ["two hundred fifty-sixth"]]\n], er = mr, I1 = [];\ner.forEach(\n  ([t, n, m]) => cr(t, n, m)\n);\nvar rr = {\n  empty: !0,\n  name: "",\n  value: 0,\n  fraction: [0, 0],\n  shorthand: "",\n  dots: "",\n  names: []\n};\nfunction or() {\n  return I1.reduce((t, n) => (n.names.forEach((m) => t.push(m)), t), []);\n}\nfunction Mr() {\n  return I1.map((t) => t.shorthand);\n}\nvar Pr = /^([^.]+)(\\.*)$/;\nfunction ct(t) {\n  const [n, m, e] = Pr.exec(t) || [], r = I1.find(\n    (P) => P.shorthand === m || P.names.includes(m)\n  );\n  if (!r)\n    return rr;\n  const o = ur(r.fraction, e.length), M = o[0] / o[1];\n  return { ...r, name: t, dots: e, value: M, fraction: o };\n}\nvar ar = (t) => ct(t).value, ir = (t) => ct(t).fraction, sr = { names: or, shorthands: Mr, get: ct, value: ar, fraction: ir };\nfunction cr(t, n, m) {\n  I1.push({\n    empty: !1,\n    dots: "",\n    name: "",\n    value: 1 / t,\n    fraction: t < 1 ? [1 / t, 1] : [1, t],\n    shorthand: n,\n    names: m\n  });\n}\nfunction ur(t, n) {\n  const m = Math.pow(2, n);\n  let e = t[0] * m, r = t[1] * m;\n  const o = e;\n  for (let M = 0; M < n; M++)\n    e += o / Math.pow(2, M + 1);\n  for (; e % 2 === 0 && r % 2 === 0; )\n    e /= 2, r /= 2;\n  return [e, r];\n}\nfunction dr() {\n  return "1P 2M 3M 4P 5P 6m 7m".split(" ");\n}\nvar Tn = b, lr = (t) => b(t).name, fr = (t) => b(t).semitones, hr = (t) => b(t).q, pr = (t) => b(t).num;\nfunction br(t) {\n  const n = b(t);\n  return n.empty ? "" : n.simple + n.q;\n}\nfunction vr(t) {\n  const n = b(t);\n  if (n.empty)\n    return "";\n  const m = (7 - n.step) % 7, e = n.type === "perfectable" ? -n.alt : -(n.alt + 1);\n  return b({ step: m, alt: e, oct: n.oct, dir: n.dir }).name;\n}\nvar gr = [1, 2, 2, 3, 3, 4, 5, 5, 6, 6, 7, 7], yr = "P m M m M P d P m M m M".split(" ");\nfunction Ar(t) {\n  const n = t < 0 ? -1 : 1, m = Math.abs(t), e = m % 12, r = Math.floor(m / 12);\n  return n * (gr[e] + 7 * r) + yr[e];\n}\nvar $r = d1, _n = Cn((t, n) => [t[0] + n[0], t[1] + n[1]]), Nr = (t) => (n) => _n(t, n), jr = Cn((t, n) => [t[0] - n[0], t[1] - n[1]]);\nfunction Sr(t, n) {\n  const m = Tn(t);\n  if (m.empty)\n    return "";\n  const [e, r, o] = m.coord;\n  return Z([e + n, r, o]).name;\n}\nvar O = {\n  names: dr,\n  get: Tn,\n  name: lr,\n  num: pr,\n  semitones: fr,\n  quality: hr,\n  fromSemitones: Ar,\n  distance: $r,\n  invert: vr,\n  simplify: br,\n  add: _n,\n  addTo: Nr,\n  substract: jr,\n  transposeFifths: Sr\n};\nfunction Cn(t) {\n  return (n, m) => {\n    const e = b(n).coord, r = b(m).coord;\n    if (e && r) {\n      const o = t(e, r);\n      return Z(o).name;\n    }\n  };\n}\nfunction En(t) {\n  return +t >= 0 && +t <= 127;\n}\nfunction Dn(t) {\n  if (En(t))\n    return +t;\n  const n = l(t);\n  return n.empty ? null : n.midi;\n}\nfunction Ir(t, n = 440) {\n  return Math.pow(2, (t - 69) / 12) * n;\n}\nvar Tr = Math.log(2), _r = Math.log(440);\nfunction ut(t) {\n  const n = 12 * (Math.log(t) - _r) / Tr + 69;\n  return Math.round(n * 100) / 100;\n}\nvar Cr = "C C# D D# E F F# G G# A A# B".split(" "), Er = "C Db D Eb E F Gb G Ab A Bb B".split(" ");\nfunction E(t, n = {}) {\n  if (isNaN(t) || t === -1 / 0 || t === 1 / 0) return "";\n  t = Math.round(t);\n  const e = (n.sharps === !0 ? Cr : Er)[t % 12];\n  if (n.pitchClass)\n    return e;\n  const r = Math.floor(t / 12) - 1;\n  return e + r;\n}\nfunction dt(t) {\n  return t % 12;\n}\nfunction Dr(t) {\n  return t.split("").reduce((n, m, e) => (e < 12 && m === "1" && n.push(e), n), []);\n}\nfunction wr(t) {\n  return t.map(dt).sort((n, m) => n - m).filter((n, m, e) => m === 0 || n !== e[m - 1]);\n}\nfunction lt(t) {\n  return Array.isArray(t) ? wr(t) : Dr(t);\n}\nfunction xr(t) {\n  const n = lt(t);\n  return (m) => {\n    const e = dt(m);\n    for (let r = 0; r < 12; r++) {\n      if (n.includes(e + r)) return m + r;\n      if (n.includes(e - r)) return m - r;\n    }\n  };\n}\nfunction wn(t, n) {\n  const m = lt(t), e = m.length;\n  return (r) => {\n    const o = r < 0 ? (e - -r % e) % e : r % e, M = Math.floor(r / e);\n    return m[o] + M * 12 + n;\n  };\n}\nfunction Vr(t, n) {\n  const m = wn(t, n);\n  return (e) => {\n    if (e !== 0)\n      return m(e > 0 ? e - 1 : e);\n  };\n}\nvar Rr = {\n  chroma: dt,\n  freqToMidi: ut,\n  isMidi: En,\n  midiToFreq: Ir,\n  midiToNoteName: E,\n  pcsetNearest: xr,\n  pcset: lt,\n  pcsetDegrees: Vr,\n  pcsetSteps: wn,\n  toMidi: Dn\n}, kr = ["C", "D", "E", "F", "G", "A", "B"], xn = (t) => t.name, Vn = (t) => t.map(l).filter((n) => !n.empty);\nfunction Fr(t) {\n  return t === void 0 ? kr.slice() : Array.isArray(t) ? Vn(t).map(xn) : [];\n}\nvar A = l, Or = (t) => A(t).name, qr = (t) => A(t).pc, Gr = (t) => A(t).acc, zr = (t) => A(t).oct, Br = (t) => A(t).midi, Lr = (t) => A(t).freq, Hr = (t) => A(t).chroma;\nfunction Rn(t) {\n  return E(t);\n}\nfunction Ur(t) {\n  return E(ut(t));\n}\nfunction Xr(t) {\n  return E(ut(t), { sharps: !0 });\n}\nfunction Kr(t) {\n  return E(t, { sharps: !0 });\n}\nvar Jr = d1, g = y, Qr = y, kn = (t) => (n) => g(n, t), Wr = kn, Fn = (t) => (n) => g(t, n), Yr = Fn;\nfunction c1(t, n) {\n  return g(t, [n, 0]);\n}\nvar Zr = c1;\nfunction to(t, n) {\n  return g(t, [0, n]);\n}\nvar ft = (t, n) => t.height - n.height, no = (t, n) => n.height - t.height;\nfunction On(t, n) {\n  return n = n || ft, Vn(t).sort(n).map(xn);\n}\nfunction qn(t) {\n  return On(t, ft).filter(\n    (n, m, e) => m === 0 || n !== e[m - 1]\n  );\n}\nvar mo = (t) => {\n  const n = A(t);\n  return n.empty ? "" : E(n.midi || n.chroma, {\n    sharps: n.alt > 0,\n    pitchClass: n.midi === null\n  });\n};\nfunction Gn(t, n) {\n  const m = A(t);\n  if (m.empty)\n    return "";\n  const e = A(\n    n || E(m.midi || m.chroma, {\n      sharps: m.alt < 0,\n      pitchClass: !0\n    })\n  );\n  if (e.empty || e.chroma !== m.chroma)\n    return "";\n  if (m.oct === void 0)\n    return e.pc;\n  const r = m.chroma - m.alt, o = e.chroma - e.alt, M = r > 11 || o < 0 ? -1 : r < 0 || o > 11 ? 1 : 0, P = m.oct + M;\n  return e.pc + P;\n}\nvar _ = {\n  names: Fr,\n  get: A,\n  name: Or,\n  pitchClass: qr,\n  accidentals: Gr,\n  octave: zr,\n  midi: Br,\n  ascending: ft,\n  descending: no,\n  distance: Jr,\n  sortedNames: On,\n  sortedUniqNames: qn,\n  fromMidi: Rn,\n  fromMidiSharps: Kr,\n  freq: Lr,\n  fromFreq: Ur,\n  fromFreqSharps: Xr,\n  chroma: Hr,\n  transpose: g,\n  tr: Qr,\n  transposeBy: kn,\n  trBy: Wr,\n  transposeFrom: Fn,\n  trFrom: Yr,\n  transposeFifths: c1,\n  transposeOctaves: to,\n  trFifths: Zr,\n  simplify: mo,\n  enharmonic: Gn\n}, zn = { empty: !0, name: "", chordType: "" }, xt = {};\nfunction C(t) {\n  return typeof t == "string" ? xt[t] || (xt[t] = io(t)) : typeof t == "number" ? C(T1[t] || "") : K1(t) ? oo(t) : X1(t) ? C(t.name) : zn;\n}\nvar eo = C;\nfunction ro(t = !0) {\n  return (t ? T1 : ao).slice();\n}\nfunction oo(t) {\n  return C(u1(t.alt) + T1[t.step]);\n}\nvar Mo = /^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;\nfunction Po(t) {\n  return Mo.exec(t) || ["", "", "", ""];\n}\nvar Bn = "I II III IV V VI VII", T1 = Bn.split(" "), ao = Bn.toLowerCase().split(" ");\nfunction io(t) {\n  const [n, m, e, r] = Po(t);\n  if (!e)\n    return zn;\n  const o = e.toUpperCase(), M = T1.indexOf(o), P = J1(m), a = 1;\n  return {\n    empty: !1,\n    name: n,\n    roman: e,\n    interval: N({ step: M, alt: P, dir: a }).name,\n    acc: m,\n    chordType: r,\n    alt: P,\n    step: M,\n    major: e === o,\n    oct: 0,\n    dir: a\n  };\n}\nvar so = {\n  names: ro,\n  get: C,\n  // deprecated\n  romanNumeral: eo\n}, h = Object.freeze([]), Ln = {\n  type: "major",\n  tonic: "",\n  alteration: 0,\n  keySignature: ""\n}, M1 = {\n  tonic: "",\n  grades: h,\n  intervals: h,\n  scale: h,\n  triads: h,\n  chords: h,\n  chordsHarmonicFunction: h,\n  chordScales: h,\n  secondaryDominants: h,\n  secondaryDominantSupertonics: h,\n  substituteDominantsMinorRelative: h,\n  substituteDominants: h,\n  substituteDominantSupertonics: h,\n  secondaryDominantsMinorRelative: h\n}, co = {\n  ...Ln,\n  ...M1,\n  type: "major",\n  minorRelative: "",\n  scale: h,\n  substituteDominants: h,\n  secondaryDominantSupertonics: h,\n  substituteDominantsMinorRelative: h\n}, uo = {\n  ...Ln,\n  type: "minor",\n  relativeMajor: "",\n  natural: M1,\n  harmonic: M1,\n  melodic: M1\n}, V1 = (t, n, m = "") => n.map((e, r) => `${t[r]}${m}${e}`);\nfunction _1(t, n, m, e, r) {\n  return (o) => {\n    const M = t.map((d) => C(d).interval || ""), P = M.map((d) => g(o, d)), a = V1(P, m), i = P.map((d) => g(d, "5P")).map(\n      (d) => (\n        // A secondary dominant is a V chord which:\n        // 1. is not diatonic to the key,\n        // 2. it must have a diatonic root.\n        P.includes(d) && !a.includes(d + "7") ? d + "7" : ""\n      )\n    ), s = Vt(\n      i,\n      n\n    ), u = i.map((d) => {\n      if (!d) return "";\n      const f = d.slice(0, -1);\n      return g(f, "5d") + "7";\n    }), c = Vt(\n      u,\n      n\n    );\n    return {\n      tonic: o,\n      grades: t,\n      intervals: M,\n      scale: P,\n      triads: V1(P, n),\n      chords: a,\n      chordsHarmonicFunction: e.slice(),\n      chordScales: V1(P, r, " "),\n      secondaryDominants: i,\n      secondaryDominantSupertonics: s,\n      substituteDominants: u,\n      substituteDominantSupertonics: c,\n      // @deprecated use secondaryDominantsSupertonic\n      secondaryDominantsMinorRelative: s,\n      // @deprecated use secondaryDominantsSupertonic\n      substituteDominantsMinorRelative: c\n    };\n  };\n}\nvar Vt = (t, n) => t.map((m, e) => {\n  if (!m) return "";\n  const r = m.slice(0, -1), o = g(r, "5P");\n  return n[e].endsWith("m") ? o + "m7" : o + "m7b5";\n}), Hn = (t, n) => {\n  const m = l(t), e = l(n);\n  return m.empty || e.empty ? 0 : e.coord[0] - m.coord[0];\n}, lo = _1(\n  "I II III IV V VI VII".split(" "),\n  " m m   m dim".split(" "),\n  "maj7 m7 m7 maj7 7 m7 m7b5".split(" "),\n  "T SD T SD D T D".split(" "),\n  "major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")\n), fo = _1(\n  "I II bIII IV V bVI bVII".split(" "),\n  "m dim  m m  ".split(" "),\n  "m7 m7b5 maj7 m7 m7 maj7 7".split(" "),\n  "T SD T SD D SD SD".split(" "),\n  "minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")\n), ho = _1(\n  "I II bIII IV V bVI VII".split(" "),\n  "m dim aug m   dim".split(" "),\n  "mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),\n  "T SD T SD D SD D".split(" "),\n  "harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(\n    ","\n  )\n), po = _1(\n  "I II bIII IV V VI VII".split(" "),\n  "m m aug   dim dim".split(" "),\n  "m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),\n  "T SD T SD D  ".split(" "),\n  "melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(\n    ","\n  )\n);\nfunction bo(t) {\n  const n = l(t).pc;\n  if (!n) return co;\n  const m = lo(n), e = Hn("C", n);\n  return {\n    ...m,\n    type: "major",\n    minorRelative: g(n, "-3m"),\n    alteration: e,\n    keySignature: u1(e)\n  };\n}\nfunction vo(t) {\n  const n = l(t).pc;\n  if (!n) return uo;\n  const m = Hn("C", n) - 3;\n  return {\n    type: "minor",\n    tonic: n,\n    relativeMajor: g(n, "3m"),\n    alteration: m,\n    keySignature: u1(m),\n    natural: fo(n),\n    harmonic: ho(n),\n    melodic: po(n)\n  };\n}\nfunction go(t) {\n  return typeof t == "number" ? c1("C", t) : typeof t == "string" && /^b+|#+$/.test(t) ? c1("C", J1(t)) : null;\n}\nvar yo = { majorKey: bo, majorTonicFromKeySignature: go, minorKey: vo }, Ao = N;\nfunction $o(t) {\n  const n = N(t);\n  return n.empty ? "" : n.simple + n.q;\n}\nfunction No(t, n) {\n  const m = Ao(t);\n  if (m.empty) return "";\n  const [e, r, o] = m.coord;\n  return tn([e + n, r, o]).name;\n}\nvar ht = [\n  [0, 2773, 0, "ionian", "", "Maj7", "major"],\n  [1, 2902, 2, "dorian", "m", "m7"],\n  [2, 3418, 4, "phrygian", "m", "m7"],\n  [3, 2741, -1, "lydian", "", "Maj7"],\n  [4, 2774, 1, "mixolydian", "", "7"],\n  [5, 2906, 3, "aeolian", "m", "m7", "minor"],\n  [6, 3434, 5, "locrian", "dim", "m7b5"]\n], Rt = {\n  ...T,\n  name: "",\n  alt: 0,\n  modeNum: NaN,\n  triad: "",\n  seventh: "",\n  aliases: []\n}, pt = ht.map(To), B1 = {};\npt.forEach((t) => {\n  B1[t.name] = t, t.aliases.forEach((n) => {\n    B1[n] = t;\n  });\n});\nfunction V(t) {\n  return typeof t == "string" ? B1[t.toLowerCase()] || Rt : t && t.name ? V(t.name) : Rt;\n}\nvar jo = V;\nfunction Un() {\n  return pt.slice();\n}\nvar So = Un;\nfunction Io() {\n  return pt.map((t) => t.name);\n}\nfunction To(t) {\n  const [n, m, e, r, o, M, P] = t, a = P ? [P] : [], i = Number(m).toString(2);\n  return {\n    empty: !1,\n    intervals: S1(r).intervals,\n    modeNum: n,\n    chroma: i,\n    normalized: i,\n    name: r,\n    setNum: m,\n    alt: e,\n    triad: o,\n    seventh: M,\n    aliases: a\n  };\n}\nfunction _o(t, n) {\n  return V(t).intervals.map((m) => y(n, m));\n}\nfunction Xn(t) {\n  return (n, m) => {\n    const e = V(n);\n    if (e.empty) return [];\n    const r = z(e.modeNum, t), o = e.intervals.map((M) => y(m, M));\n    return r.map((M, P) => o[P] + M);\n  };\n}\nvar Co = Xn(ht.map((t) => t[4])), Eo = Xn(ht.map((t) => t[5]));\nfunction Kn(t, n) {\n  const m = V(n), e = V(t);\n  return m.empty || e.empty ? "" : $o(No("1P", e.alt - m.alt));\n}\nfunction Do(t, n, m) {\n  return y(m, Kn(t, n));\n}\nvar wo = {\n  get: V,\n  names: Io,\n  all: Un,\n  distance: Kn,\n  relativeTonic: Do,\n  notes: _o,\n  triads: Co,\n  seventhChords: Eo,\n  // deprecated\n  entries: So,\n  mode: jo\n};\nfunction xo(t) {\n  const [n, m, e, r] = Q1(t);\n  return n === "" ? R1("", t) : n === "A" && r === "ug" ? R1("", "aug") : R1(n + m, e + r);\n}\nfunction R1(t, n) {\n  const m = n.split("/");\n  if (m.length === 1)\n    return [t, m[0], ""];\n  const [e, r, o, M] = Q1(m[1]);\n  return e !== "" && o === "" && M === "" ? [t, m[0], e + r] : [t, n, ""];\n}\nfunction Vo(t, n) {\n  return n.map(C).map(\n    (e) => y(t, N(e)) + e.chordType\n  );\n}\nfunction Ro(t, n) {\n  return n.map((m) => {\n    const [e, r] = xo(m), o = d1(t, e);\n    return C(N(o)).name + r;\n  });\n}\nvar ko = { fromRomanNumerals: Vo, toRomanNumerals: Ro };\nfunction Jn(t) {\n  const n = W1(\n    t.map((m) => typeof m == "number" ? m : Dn(m))\n  );\n  return !t.length || n.length !== t.length ? [] : n.reduce(\n    (m, e) => {\n      const r = m[m.length - 1];\n      return m.concat(l1(r, e).slice(1));\n    },\n    [n[0]]\n  );\n}\nfunction Fo(t, n) {\n  return Jn(t).map((m) => E(m, n));\n}\nvar Oo = { numeric: Jn, chromatic: Fo }, qo = {\n  empty: !0,\n  name: "",\n  type: "",\n  tonic: null,\n  setNum: NaN,\n  chroma: "",\n  normalized: "",\n  aliases: [],\n  notes: [],\n  intervals: []\n};\nfunction Qn(t) {\n  if (typeof t != "string")\n    return ["", ""];\n  const n = t.indexOf(" "), m = l(t.substring(0, n));\n  if (m.empty) {\n    const r = l(t);\n    return r.empty ? ["", t] : [r.name, ""];\n  }\n  const e = t.substring(m.name.length + 1).toLowerCase();\n  return [m.name, e.length ? e : ""];\n}\nvar Go = jn;\nfunction S(t) {\n  const n = Array.isArray(t) ? t : Qn(t), m = l(n[0]).name, e = S1(n[1]);\n  if (e.empty)\n    return qo;\n  const r = e.name, o = m ? e.intervals.map((P) => y(m, P)) : [], M = m ? m + " " + r : r;\n  return { ...e, name: M, type: r, tonic: m, notes: o };\n}\nvar zo = S;\nfunction Bo(t, n = {}) {\n  const m = an(t), e = l(n.tonic ?? t[0] ?? ""), r = e.chroma;\n  if (r === void 0)\n    return [];\n  const o = m.split("");\n  o[r] = "1";\n  const M = z(r, o).join(""), P = H().find((i) => i.chroma === M), a = [];\n  return P && a.push(e.name + " " + P.name), n.match === "exact" || Wn(M).forEach((i) => {\n    a.push(e.name + " " + i);\n  }), a;\n}\nfunction Lo(t) {\n  const n = S(t), m = f1(n.chroma);\n  return un().filter((e) => m(e.chroma)).map((e) => e.aliases[0]);\n}\nfunction Wn(t) {\n  const n = Z1(t) ? t : S(t).chroma, m = h1(n);\n  return H().filter((e) => m(e.chroma)).map((e) => e.name);\n}\nfunction Ho(t) {\n  const n = f1(S(t).chroma);\n  return H().filter((m) => n(m.chroma)).map((m) => m.name);\n}\nfunction Yn(t) {\n  const n = t.map((r) => l(r).pc).filter((r) => r), m = n[0], e = qn(n);\n  return z(e.indexOf(m), e);\n}\nfunction Uo(t) {\n  const n = S(t);\n  if (n.empty)\n    return [];\n  const m = n.tonic ? n.notes : n.intervals;\n  return tt(n.chroma).map((e, r) => {\n    const o = S(e).name;\n    return o ? [m[r], o] : ["", ""];\n  }).filter((e) => e[0]);\n}\nfunction Xo(t) {\n  const n = Array.isArray(t) ? Yn(t) : S(t).notes, m = n.map((e) => l(e).chroma);\n  return (e) => {\n    const r = l(typeof e == "number" ? Rn(e) : e), o = r.height;\n    if (o === void 0) return;\n    const M = o % 12, P = m.indexOf(M);\n    if (P !== -1)\n      return Gn(r.name, n[P]);\n  };\n}\nfunction Ko(t) {\n  const n = Xo(t);\n  return (m, e) => {\n    const r = l(m).height, o = l(e).height;\n    return r === void 0 || o === void 0 ? [] : l1(r, o).map(n).filter((M) => M);\n  };\n}\nfunction Jo(t) {\n  const { intervals: n, tonic: m } = S(t), e = mn(n, m);\n  return (r) => r ? e(r > 0 ? r - 1 : r) : "";\n}\nfunction Qo(t) {\n  const { intervals: n, tonic: m } = S(t);\n  return mn(n, m);\n}\nvar q = {\n  degrees: Jo,\n  detect: Bo,\n  extended: Wn,\n  get: S,\n  modeNames: Uo,\n  names: Go,\n  rangeOf: Ko,\n  reduced: Ho,\n  scaleChords: Lo,\n  scaleNotes: Yn,\n  steps: Qo,\n  tokenize: Qn,\n  // deprecated\n  scale: zo\n}, Wo = {\n  empty: !0,\n  name: "",\n  upper: void 0,\n  lower: void 0,\n  type: void 0,\n  additive: []\n}, Yo = ["4/4", "3/4", "2/4", "2/2", "12/8", "9/8", "6/8", "3/8"];\nfunction Zo() {\n  return Yo.slice();\n}\nvar tM = /^(\\d*\\d(?:\\+\\d)*)\\/(\\d+)$/, kt = /* @__PURE__ */ new Map();\nfunction nM(t) {\n  const n = JSON.stringify(t), m = kt.get(n);\n  if (m)\n    return m;\n  const e = rM(bt(t));\n  return kt.set(n, e), e;\n}\nfunction bt(t) {\n  if (typeof t == "string") {\n    const [o, M, P] = tM.exec(t) || [];\n    return bt([M, P]);\n  }\n  const [n, m] = t, e = +m;\n  if (typeof n == "number")\n    return [n, e];\n  const r = n.split("+").map((o) => +o);\n  return r.length === 1 ? [r[0], e] : [r, e];\n}\nvar mM = { names: Zo, parse: bt, get: nM }, eM = (t) => Math.log(t) / Math.log(2) % 1 === 0;\nfunction rM([t, n]) {\n  const m = Array.isArray(t) ? t.reduce((P, a) => P + a, 0) : t, e = n;\n  if (m === 0 || e === 0)\n    return Wo;\n  const r = Array.isArray(t) ? `${t.join("+")}/${n}` : `${t}/${n}`, o = Array.isArray(t) ? t : [], M = e === 4 || e === 2 ? "simple" : e === 8 && m % 3 === 0 ? "compound" : eM(e) ? "irregular" : "irrational";\n  return {\n    empty: !1,\n    name: r,\n    type: M,\n    upper: m,\n    lower: e,\n    additive: o\n  };\n}\nvar oM = An, MM = cn, PM = Nn, aM = In;\nconst iM = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  AbcNotation: Tm,\n  Array: Rm,\n  Chord: nr,\n  ChordDictionary: PM,\n  ChordType: Nn,\n  Collection: qm,\n  Core: An,\n  DurationValue: sr,\n  Interval: O,\n  Key: yo,\n  Midi: Rr,\n  Mode: wo,\n  Note: _,\n  PcSet: MM,\n  Pcset: cn,\n  Progression: ko,\n  Range: Oo,\n  RomanNumeral: so,\n  Scale: q,\n  ScaleDictionary: aM,\n  ScaleType: In,\n  TimeSignature: mM,\n  Tonal: oM,\n  accToAlt: Mt,\n  altToAcc: ot,\n  chroma: ln,\n  coordToInterval: Z,\n  coordToNote: Pt,\n  coordinates: g1,\n  deprecate: B,\n  distance: at,\n  fillStr: gn,\n  height: mt,\n  interval: b,\n  isNamed: yn,\n  isNamedPitch: Y,\n  isPitch: v1,\n  midi: fn,\n  note: j,\n  pitch: y1,\n  stepToLetter: rt,\n  tokenizeInterval: et,\n  tokenizeNote: A1,\n  tonicIntervalsTransposer: $1,\n  transpose: F\n}, Symbol.toStringTag, { value: "Module" })), sM = ["C", "Db", "D", "Eb", "E", "F", "Gb", "G", "Ab", "A", "Bb", "B"], cM = ["c", "db", "d", "eb", "e", "f", "gb", "g", "ab", "a", "bb", "b"], uM = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"], dM = { b: -1, "#": 1 }, lM = (t) => {\n  const [n, ...m] = t.split("");\n  return cM.indexOf(n.toLowerCase()) + m.reduce((e, r) => e + dM[r], 0);\n};\nfunction fM(t) {\n  const n = (t || "").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);\n  return n ? n.slice(1) : [];\n}\nconst L1 = (t) => t % 12, Zn = (t) => {\n  let n = Number(t);\n  return isNaN(n) ? O.semitones(t) : n;\n}, H1 = (t, n) => {\n  if (typeof t == "number")\n    return t;\n  if (typeof t == "string")\n    return (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.C)(t, n);\n}, hM = (t, n = !1) => {\n  const m = Math.floor(t / 12) - 1;\n  return (n ? uM : sM)[t % 12] + m;\n};\nfunction pM(t, n, m = 1) {\n  t = t.map((r) => typeof r == "string" ? (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.C)(r) : r);\n  const e = Math.floor(n / t.length) * m * 12;\n  return n = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.R)(n, t.length), t[n] + e;\n}\nfunction bM(t, n, m) {\n  let e = 0, r = 1 / 0;\n  return n.forEach((o, M) => {\n    const P = Math.abs(o - t);\n    (P < r || m) && (e = M, r = P);\n  }), e;\n}\nlet k1 = {};\nfunction vM(t, n, m, e) {\n  let [r, o] = q.tokenize(n);\n  const M = H1(r), P = L1(M);\n  if (!k1[o]) {\n    let { intervals: c } = q.get(`C ${o}`);\n    k1[o] = c.map(Zn);\n  }\n  const a = k1[o];\n  if (!a)\n    return null;\n  let i = M;\n  if (m) {\n    m = H1(m, 3);\n    const c = L1(m), d = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.R)(c - P, 12), f = bM(d, a, e);\n    t = t + f, i = m - d;\n  }\n  const s = Math.floor(t / a.length) * 12;\n  return t = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.R)(t, a.length), a[t] + i + s;\n}\nlet Ft = {\n  below: (t) => t.slice(-1)[0],\n  duck: (t) => t.slice(-1)[0],\n  above: (t) => t[0],\n  root: (t) => t[0]\n};\nfunction gM({ chord: t, dictionary: n, offset: m = 0, n: e, mode: r = "below", anchor: o = "c5", octaves: M = 1 }) {\n  const [P, a] = fM(t), i = lM(P);\n  o = H1(o?.note || o, 4);\n  const s = L1(o), u = n[a].map(\n    ($) => (typeof $ == "string" ? $.split(" ") : $).map(Zn)\n  );\n  let c, d, f = u.map(($, E1) => {\n    const Mm = Ft[r]($), D1 = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.R)(s - Mm - i, 12);\n    return (c === void 0 || D1 < c) && (c = D1, d = E1), D1;\n  });\n  r === "root" && (d = 0);\n  const I = Math.ceil(m / u.length) * 12, n1 = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.R)(d + m, u.length), m1 = u[n1], v = Ft[r](m1), C1 = o - f[n1] + I, vt = m1.map(($) => C1 - v + $);\n  let e1 = vt.map(($) => hM($));\n  return r === "duck" && (e1 = e1.filter(($, E1) => vt[E1] !== o)), e !== void 0 ? [pM(e1, e, M)] : e1;\n}\nconst yM = (t) => (t <= 0 ? -1 : 1) + t * 7 + "P";\nfunction AM(t, n) {\n  n = n.replaceAll(":", " "), t = Math.ceil(t);\n  let { intervals: m, tonic: e, empty: r } = q.get(n);\n  if (r && (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.T)(n) || !r && !e)\n    throw new Error(\'incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")\');\n  if (r)\n    throw new Error(`invalid scale "${n}"`);\n  e = e || "C";\n  const { pc: o, oct: M = 3 } = _.get(e), P = Math.floor(t / m.length), a = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.R)(t, m.length), i = O.add(m[a], yM(P));\n  return _.transpose(o + M, i);\n}\nfunction Ot(t, n, m) {\n  let [e, r] = q.tokenize(t), { notes: o } = q.get(`${e} ${r}`);\n  if (o = o.map((d) => _.get(d).pc), n = Number(n), isNaN(n))\n    throw new Error(`scale offset "${n}" not a number`);\n  const { pc: M, oct: P = 3 } = _.get(m), a = o.indexOf(M);\n  if (a === -1)\n    throw new Error(`note "${m}" is not in scale "${t}"`);\n  let i = a, s = P, u = M;\n  const c = Math.sign(n);\n  for (; Math.abs(i - a) < Math.abs(n); ) {\n    i += c;\n    const d = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.R)(i, o.length);\n    c < 0 && u[0] === "C" && (s += c), u = o[d], c > 0 && u[0] === "C" && (s += c);\n  }\n  return u + s;\n}\nconst kM = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.S)("transpose", function(t, n) {\n  return n.withHap((m) => {\n    const e = m.value.note ?? m.value;\n    if (typeof e == "number") {\n      let M;\n      typeof t == "number" ? M = t : typeof t == "string" && (M = O.semitones(t) || 0);\n      const P = e + M;\n      return typeof m.value == "object" ? m.withValue(() => ({ ...m.value, note: P })) : m.withValue(() => P);\n    }\n    if (typeof e != "string" || !(0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.T)(e))\n      return (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.A)(`[tonal] transpose: not a note "${e}"`, "warning"), m;\n    const r = isNaN(Number(t)) ? String(t) : O.fromSemitones(t), o = _.simplify(_.transpose(e, r));\n    return typeof m.value == "object" ? m.withValue(() => ({ ...m.value, note: o })) : m.withValue(() => o);\n  });\n}), FM = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.S)("scaleTranspose", function(t, n) {\n  return n.withHap((m) => {\n    if (!m.context.scale)\n      throw new Error("can only use scaleTranspose after .scale");\n    if (typeof m.value == "object")\n      return m.withValue(() => ({\n        ...m.value,\n        note: Ot(m.context.scale, Number(t), m.value.note)\n      }));\n    if (typeof m.value != "string")\n      throw new Error("can only use scaleTranspose with notes");\n    return m.withValue(() => Ot(m.context.scale, Number(t), m.value));\n  });\n}), OM = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.S)(\n  "scale",\n  function(t, n) {\n    return Array.isArray(t) && (t = t.flat().join(" ")), n.fmap((m) => {\n      const e = typeof m == "object";\n      let r = e ? m.n : m;\n      if (e && delete m.n, (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.T)(r))\n        return (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.U)(r);\n      let o = Number(r), M = 0;\n      if (isNaN(o)) {\n        if (r = String(r), !/^[-+]?\\d+(#*|b*){1}$/.test(r))\n          return (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.A)(\n            `[tonal] invalid scale step "${r}", expected number or integer with optional # b suffixes`,\n            "error"\n          ), _index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.V;\n        const P = r.indexOf("#");\n        if (P >= 0)\n          o = Number(r.substring(0, P)), M = r.length - P;\n        else {\n          const a = r.indexOf("b");\n          o = Number(r.substring(0, a)), M = a - r.length;\n        }\n      }\n      try {\n        let P;\n        e && m.anchor ? P = vM(o, t, m.anchor) : P = AM(o, t), M != 0 && (P = _.transpose(P, O.fromSemitones(M))), m = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.U)(e ? { ...m, note: P } : P);\n      } catch (P) {\n        (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.A)(`[tonal] ${P.message}`, "error"), m = _index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.V;\n      }\n      return m;\n    }).outerJoin().withHap((m) => m.setContext({ ...m.context, scale: t }));\n  },\n  !0,\n  !0\n  // preserve step count\n);\nvar F1 = {}, U = {}, X = {}, qt;\nfunction tm() {\n  if (qt) return X;\n  qt = 1, X.__esModule = !0, X.getBestVoicing = void 0;\n  function t(n) {\n    var m = n.chord, e = n.range, r = n.finder, o = n.picker, M = n.lastVoicing, P = r(m, e);\n    return P.length ? o(P, M) : [];\n  }\n  return X.getBestVoicing = t, X;\n}\nvar K = {};\nconst nm = /* @__PURE__ */ (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.W)(iM);\nvar J = {}, Gt;\nfunction mm() {\n  if (Gt) return J;\n  Gt = 1, J.__esModule = !0, J.tokenizeChord = void 0;\n  function t(n) {\n    var m = (n || "").match(/^([A-G][b#]*)([^\\/]*)[\\/]?([A-G][b#]*)?$/);\n    return m ? m.slice(1) : [];\n  }\n  return J.tokenizeChord = t, J;\n}\nvar zt;\nfunction $M() {\n  if (zt) return K;\n  zt = 1, K.__esModule = !0, K.voicingsInRange = void 0;\n  var t = nm, n = em(), m = mm();\n  function e(r, o, M) {\n    o === void 0 && (o = n.lefthand), M === void 0 && (M = ["D3", "A4"]);\n    var P = (0, m.tokenizeChord)(r), a = P[0], i = P[1];\n    if (!o[i])\n      return [];\n    var s = o[i].map(function(c) {\n      return c.split(" ");\n    }), u = t.Range.chromatic(M);\n    return s.reduce(function(c, d) {\n      var f = d.map(function(v) {\n        return t.Interval.substract(v, d[0]);\n      }), I = t.Note.transpose(a, d[0]), n1 = u.filter(function(v) {\n        return t.Note.chroma(v) === t.Note.chroma(I);\n      }).filter(function(v) {\n        return t.Note.midi(t.Note.transpose(v, f[f.length - 1])) <= t.Note.midi(M[1]);\n      }).map(function(v) {\n        return t.Note.enharmonic(v, I);\n      }), m1 = n1.map(function(v) {\n        return f.map(function(C1) {\n          return t.Note.transpose(v, C1);\n        });\n      });\n      return c.concat(m1);\n    }, []);\n  }\n  return K.voicingsInRange = e, K;\n}\nvar Bt;\nfunction em() {\n  return Bt || (Bt = 1, function(t) {\n    var n = U.__assign || function() {\n      return n = Object.assign || function(P) {\n        for (var a, i = 1, s = arguments.length; i < s; i++) {\n          a = arguments[i];\n          for (var u in a) Object.prototype.hasOwnProperty.call(a, u) && (P[u] = a[u]);\n        }\n        return P;\n      }, n.apply(this, arguments);\n    }, m = U.__rest || function(P, a) {\n      var i = {};\n      for (var s in P) Object.prototype.hasOwnProperty.call(P, s) && a.indexOf(s) < 0 && (i[s] = P[s]);\n      if (P != null && typeof Object.getOwnPropertySymbols == "function")\n        for (var u = 0, s = Object.getOwnPropertySymbols(P); u < s.length; u++)\n          a.indexOf(s[u]) < 0 && Object.prototype.propertyIsEnumerable.call(P, s[u]) && (i[s[u]] = P[s[u]]);\n      return i;\n    };\n    t.__esModule = !0, t.dictionaryVoicing = t.dictionaryVoicingFinder = t.triads = t.guidetones = t.lefthand = void 0;\n    var e = tm(), r = $M();\n    t.lefthand = {\n      m7: ["3m 5P 7m 9M", "7m 9M 10m 12P"],\n      7: ["3M 6M 7m 9M", "7m 9M 10M 13M"],\n      "^7": ["3M 5P 7M 9M", "7M 9M 10M 12P"],\n      69: ["3M 5P 6A 9M"],\n      m7b5: ["3m 5d 7m 8P", "7m 8P 10m 12d"],\n      "7b9": ["3M 6m 7m 9m", "7m 9m 10M 13m"],\n      "7b13": ["3M 6m 7m 9m", "7m 9m 10M 13m"],\n      o7: ["1P 3m 5d 6M", "5d 6M 8P 10m"],\n      "7#11": ["7m 9M 11A 13A"],\n      "7#9": ["3M 7m 9A"],\n      mM7: ["3m 5P 7M 9M", "7M 9M 10m 12P"],\n      m6: ["3m 5P 6M 9M", "6M 9M 10m 12P"]\n    }, t.guidetones = {\n      m7: ["3m 7m", "7m 10m"],\n      m9: ["3m 7m", "7m 10m"],\n      7: ["3M 7m", "7m 10M"],\n      "^7": ["3M 7M", "7M 10M"],\n      "^9": ["3M 7M", "7M 10M"],\n      69: ["3M 6M"],\n      6: ["3M 6M", "6M 10M"],\n      m7b5: ["3m 7m", "7m 10m"],\n      "7b9": ["3M 7m", "7m 10M"],\n      "7b13": ["3M 7m", "7m 10M"],\n      o7: ["3m 6M", "6M 10m"],\n      "7#11": ["3M 7m", "7m 10M"],\n      "7#9": ["3M 7m", "7m 10M"],\n      mM7: ["3m 7M", "7M 10m"],\n      m6: ["3m 6M", "6M 10m"]\n    }, t.triads = {\n      M: ["1P 3M 5P", "3M 5P 8P", "5P 8P 10M"],\n      m: ["1P 3m 5P", "3m 5P 8P", "5P 8P 10m"],\n      o: ["1P 3m 5d", "3m 5d 8P", "5d 8P 10m"],\n      aug: ["1P 3m 5A", "3m 5A 8P", "5A 8P 10m"]\n    };\n    var o = function(P) {\n      return function(a, i) {\n        return (0, r.voicingsInRange)(a, P, i);\n      };\n    };\n    t.dictionaryVoicingFinder = o;\n    var M = function(P) {\n      var a = P.dictionary, i = P.range, s = m(P, ["dictionary", "range"]);\n      return (0, e.getBestVoicing)(n(n({}, s), { range: i, finder: (0, t.dictionaryVoicingFinder)(a) }));\n    };\n    t.dictionaryVoicing = M;\n  }(U)), U;\n}\nvar Q = {}, Lt;\nfunction NM() {\n  if (Lt) return Q;\n  Lt = 1, Q.__esModule = !0, Q.minTopNoteDiff = void 0;\n  var t = nm;\n  function n(m, e) {\n    if (!e)\n      return m[0];\n    var r = function(o) {\n      return Math.abs(t.Note.midi(e[e.length - 1]) - t.Note.midi(o[o.length - 1]));\n    };\n    return m.reduce(function(o, M) {\n      return r(M) < r(o) ? M : o;\n    }, m[0]);\n  }\n  return Q.minTopNoteDiff = n, Q;\n}\nvar Ht;\nfunction jM() {\n  return Ht || (Ht = 1, function(t) {\n    t.__esModule = !0;\n    var n = em(), m = NM(), e = tm(), r = mm();\n    t.default = {\n      tokenizeChord: r.tokenizeChord,\n      getBestVoicing: e.getBestVoicing,\n      dictionaryVoicing: n.dictionaryVoicing,\n      dictionaryVoicingFinder: n.dictionaryVoicingFinder,\n      lefthand: n.lefthand,\n      guidetones: n.guidetones,\n      triads: n.triads,\n      minTopNoteDiff: m.minTopNoteDiff\n    };\n  }(F1)), F1;\n}\nvar SM = jM();\nconst Ut = /* @__PURE__ */ (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.X)(SM), k = {\n  2: ["1P 5P 8P 9M", "1P 5P 8P 9M 12P", "5P 8P 9M 12P"],\n  5: ["1P 5P 8P 12P", "5P 8P 12P 15P"],\n  6: ["1P 5P 6M 8P 10M", "1P 5P 8P 10M 13M", "3M 5P 8P 10M 13M", "5P 8P 10M 12P 13M"],\n  7: [\n    "1P 5P 7m 8P 10M",\n    "1P 7m 8P 10M 12P",\n    "3M 7m 8P 10M 12P",\n    "3M 7m 8P 10M 14m",\n    "3M 7m 10M 12P 15P",\n    "7m 10M 12P 14m 15P",\n    "7m 10M 12P 15P 17M"\n  ],\n  9: [\n    "1P 5P 7m 9M 10M",\n    "1P 7m 9M 10M 12P",\n    "3M 7m 8P 9M 12P",\n    "7m 9M 10M 14m 15P",\n    "3M 7m 8P 12P 16M",\n    "7m 10M 12P 15P 16M"\n  ],\n  11: ["1P 5P 7m 9M 11P", "5P 7m 8P 9M 11P", "7m 8P 9M 11P 12P", "7m 8P 11P 12P 16M"],\n  13: ["1P 6M 7m 9M 10M", "1P 7m 9M 10M 13M", "3M 7m 8P 9M 13M", "7m 8P 9M 10M 13M", "7m 9M 10M 13M 15P"],\n  69: ["1P 5P 6M 9M 10M", "1P 5P 9M 10M 13M", "3M 5P 8P 9M 13M", "5P 8P 9M 10M 13M"],\n  add9: ["1P 5P 8P 9M 10M", "1P 5P 9M 10M 12P", "3M 8P 9M 10M 12P", "3M 8P 9M 12P 15P", "5P 8P 9M 12P 17M"],\n  "+": [\n    "1P 3M 6m 8P 10M",\n    "1P 6m 8P 10M 13m",\n    "3M 6m 8P 10M 13m",\n    "3M 8P 10M 13m 15P",\n    "6m 8P 10M 13m 15P",\n    "6m 10M 13m 15P 17M"\n  ],\n  o: ["1P 5d 8P 10m 12d", "3m 8P 10m 12d 15P", "5d 8P 10m 12d 15P"],\n  h: [\n    "3m 5d 7m 8P 10m",\n    "1P 5d 7m 10m 12d",\n    "3m 7m 8P 10m 12d",\n    "3m 7m 8P 12d 14m",\n    "5d 7m 8P 10m 14m",\n    "5d 8P 10m 12d 14m",\n    "7m 10m 12d 14m 15P",\n    "5d 8P 10m 14m 17m"\n  ],\n  sus: ["1P 4P 5P 8P", "1P 4P 5P 8P 11P", "5P 8P 11P 12P", "5P 8P 11P 12P 15P"],\n  "^": ["1P 5P 8P 10M", "1P 5P 8P 10M 12P", "3M 5P 8P 10M 12P", "3M 8P 10M 12P 15P", "5P 8P 10M 12P 15P"],\n  "-": ["1P 3m 5P 8P 10m", "1P 5P 8P 10m 12P", "3m 5P 8P 10m 12P", "5P 8P 10m 12P 15P"],\n  "^7": ["1P 5P 7M 10M 12P", "1P 10M 12P 14M", "3M 8P 10M 12P 14M", "5P 8P 10M 12P 14M", "5P 8P 10M 14M 17M"],\n  "-7": [\n    "1P 3m 5P 7m 10m",\n    "1P 5P 7m 10m 12P",\n    "3m 7m 8P 10m 12P",\n    "3m 7m 8P 10m 14m",\n    "5P 7m 8P 10m 14m",\n    "7m 10m 12P 14m 15P",\n    "5P 8P 10m 14m 17m",\n    "7m 10m 12P 15P 17m"\n  ],\n  "7sus": ["1P 5P 7m 8P 11P", "5P 8P 11P 12P 14m", "7m 8P 11P 12P 14m", "7m 11P 12P 14m 18P"],\n  h7: [\n    "3m 5d 7m 8P 10m",\n    "1P 5d 7m 10m 12d",\n    "1P 7m 10m 12d",\n    "3m 7m 8P 10m 12d",\n    "3m 7m 8P 12d 14m",\n    "5d 7m 8P 10m 14m",\n    "5d 8P 10m 12d 14m",\n    "7m 10m 12d 14m 15P",\n    "5d 8P 10m 14m 17m"\n  ],\n  o7: [\n    "1P 6M 8P 10m 12d",\n    "1P 6M 10m 12d 13M",\n    "3m 8P 10m 12d 13M",\n    "3m 8P 12d 13M 15P",\n    "5d 10m 12d 13M 15P",\n    "5d 10m 13M 15P 17m",\n    "6M 12d 13M 15P 17m",\n    "6M 12d 15P 17m 19d"\n  ],\n  "^9": [\n    "1P 5P 7M 9M 10M",\n    "1P 7M 9M 10M 12P",\n    "3M 7M 8P 9M 12P",\n    "3M 7M 8P 12P 16M",\n    "5P 8P 10M 14M 16M",\n    "7M 8P 10M 12P 16M"\n  ],\n  "^13": ["1P 6M 7M 9M 10M", "1P 7M 9M 10M 13M", "3M 7M 8P 9M 13M", "3M 7M 8P 13M 16M", "7M 8P 10M 13M 16M"],\n  "^7#11": ["1P 5P 7M 10M 12d", "3M 7M 8P 10M 12d", "1P 7M 10M 12d 14M", "3M 7M 8P 12d 14M", "5P 8P 10M 12d 14M"],\n  "^9#11": ["1P 3M 5d 7M 9M", "1P 7M 9M 10M 12d", "3M 7M 8P 9M 12d", "3M 8P 9M 12d 14M"],\n  "^7#5": ["1P 6m 7M 10M 13m", "3M 7M 8P 10M 13m", "6m 7M 8P 10M 13m"],\n  "-6": [\n    "1P 3m 5P 6M 8P",\n    "1P 5P 6M 8P 10m",\n    "3m 5P 6M 8P 10m",\n    "1P 5P 8P 10m 13M",\n    "3m 5P 8P 10m 13M",\n    "5P 8P 10m 12P 13M",\n    "5P 8P 10m 13M 15P"\n  ],\n  "-69": [\n    "1P 3m 5P 6M 9M",\n    "3m 5P 6M 8P 9M",\n    "3m 6M 9M 10m 12P",\n    "1P 5P 9M 10m 13M",\n    "3m 5P 8P 9M 13M",\n    "5P 8P 9M 10m 13M",\n    "5P 8P 10m 13M 16M"\n  ],\n  "-^7": ["1P 3m 5P 7M 10m", "1P 5P 7M 10m 12P", "3m 7M 8P 10m 12P", "5P 7M 8P 10m 14M", "5P 8P 10m 14M 17m"],\n  "-^9": ["1P 3m 5P 7M 9M", "1P 7M 9M 10m 12P", "3m 7M 8P 9M 12P", "5P 8P 9M 10m 14M"],\n  "-9": [\n    "1P 3m 5P 7m 9M",\n    "3m 5P 7m 8P 9M",\n    "3m 7m 8P 9M 12P",\n    "5P 8P 9M 10m 14m",\n    "3m 7m 9M 12P 15P",\n    "7m 10m 12P 15P 16M"\n  ],\n  "-add9": ["1P 2M 3m 5P 8P", "1P 3m 5P 9M", "3m 5P 8P 9M 12P", "5P 8P 9M 10m 12P"],\n  "-11": [\n    "1P 3m 7m 9M 11P",\n    "3m 7m 8P 9M 11P",\n    "1P 4P 7m 10m 12P",\n    "5P 8P 11P 14m",\n    "3m 7m 9M 11P 15P",\n    "5P 8P 11P 14m 16M",\n    "7m 10m 12P 15P 18P"\n  ],\n  "-7b5": [\n    "3m 5d 7m 8P 10m",\n    "1P 7m 10m 12d",\n    "1P 5d 7m 10m 12d",\n    "3m 7m 8P 10m 12d",\n    "3m 7m 8P 12d 14m",\n    "5d 7m 8P 10m 14m",\n    "5d 8P 10m 12d 14m",\n    "7m 10m 12d 14m 15P",\n    "5d 8P 10m 14m 17m"\n  ],\n  h9: ["1P 7m 9M 10m 12d", "3m 7m 8P 9M 12d", "5d 8P 9M 10m 14m", "7m 10m 12d 15P 16M"],\n  "-b6": ["1P 5P 6m 8P 10m", "1P 5P 8P 10m 13m", "3m 5P 8P 10m 13m", "5P 8P 10m 13m", "5P 8P 10m 13m 15P"],\n  "-#5": ["1P 6m 8P 10m 13m", "3m 6m 8P 10m 13m", "6m 8P 10m 13m 15P"],\n  "7b9": ["1P 3M 7m 9m 10M", "3M 7m 8P 9m 10M", "3M 7m 8P 9m 14m", "7m 9m 10M 14m 15P"],\n  "7#9": ["1P 3M 7m 10m", "3M 7m 8P 10m 14m", "7m 10m 10M 14m 15P"],\n  "7#11": ["1P 3M 7m 10M 12d", "3M 7m 8P 10M 12d", "7m 10M 12d 14m 15P"],\n  "7b5": ["1P 3M 7m 10M 12d", "3M 7m 8P 10M 12d", "7m 10M 12d 14m 15P"],\n  "7#5": ["1P 3M 7m 10M 13m", "3M 7m 8P 10M 13m", "3M 7m 8P 13m 14m", "7m 10M 13m 14m 15P"],\n  "9#11": ["1P 7m 9M 10M 12d", "3M 7m 8P 9M 12d", "7m 10M 12d 15P 16M"],\n  "9b5": ["1P 7m 9M 10M 12d", "3M 7m 8P 9M 12d", "7m 10M 12d 15P 16M"],\n  "9#5": ["1P 7m 9M 10M 13m", "3M 7m 9M 10M 13m", "3M 7m 9M 13m 14m", "7m 10M 13m 14m 16M", "7m 10M 13m 16M 17M"],\n  "7b13": ["1P 3M 7m 10M 13m", "3M 7m 8P 10M 13m", "3M 7m 8P 13m 14m", "7m 10M 13m 14m 15P"],\n  "7#9#5": ["1P 3M 7m 10m 13m", "3M 7m 10m 13m 15P", "7m 10M 13m 15P 17m"],\n  "7#9b5": ["1P 3M 7m 10m 12d", "3M 7m 10m 12d 15P", "7m 10M 12d 15P 17m"],\n  "7#9#11": ["1P 3M 7m 10m 12d", "3M 7m 10m 12d 15P", "7m 10M 12d 15P 17m"],\n  "7b9#11": ["1P 7m 9m 10M 12d", "3M 7m 8P 9m 12d", "7m 8P 10M 12d 16m"],\n  "7b9b5": ["1P 7m 9m 10M 12d", "3M 7m 8P 9m 12d", "7m 8P 10M 12d 16m"],\n  "7b9#5": ["1P 7m 9m 10M 13m", "3M 7m 8P 9m 13m", "7m 9m 10M 13m 15P"],\n  "7b9#9": ["1P 3M 7m 9m 10m", "3M 7m 8P 9m 10m", "7m 8P 10M 16m 17m"],\n  "7b9b13": ["1P 7m 9m 10M 13m", "3M 7m 8P 9m 13m", "7m 9m 10M 13m 15P"],\n  "7alt": [\n    "3M 7m 8P 9m 12d",\n    "1P 7m 10m 10M 13m",\n    "3M 7m 8P 10m 13m",\n    "3M 7m 9m 12d 15P",\n    "3M 7m 10m 13m 15P",\n    "7m 10M 12d 15P 17m",\n    "7m 10M 13m 15P 17m"\n  ],\n  "13#11": ["1P 6M 7m 10M 12d", "3M 7m 9M 12d 13M", "7m 10M 12d 13M 16M"],\n  "13b9": ["1P 3M 6M 7m 9m", "1P 6M 7m 9m 10M", "3M 7m 9m 10M 13M", "3M 7m 10M 13M 16m", "7m 10M 13M 16m 17M"],\n  "13#9": ["1P 3M 6M 7m 10m", "3M 7m 8P 10m 13M", "7m 10M 13M 14m 17m"],\n  "7b9sus": ["1P 5P 7m 9m 11P", "5P 7m 8P 9m 11P", "7m 8P 11P 14m 16m"],\n  "7susadd3": ["1P 4P 5P 7m 10M", "5P 8P 10M 11P 14m", "7m 11P 12P 15P 17M"],\n  "9sus": ["1P 5P 7m 9M 11P", "5P 7m 8P 9M 11P", "7m 8P 9M 11P 12P", "7m 8P 11P 12P 16M"],\n  "13sus": ["1P 4P 6M 7m 9M", "1P 7m 9M 11P 13M", "5P 7m 9M 11P 13M", "7m 9M 11P 13M 15P"],\n  "7b13sus": ["1P 5P 7m 11P 13m", "5P 7m 8P 11P 13m", "7m 11P 13m 14m 15P"]\n}, W = {\n  2: ["1P 5P 6M 8P 9M", "1P 5P 8P 9M 12P", "5P 8P 9M 12P 13M", "5P 8P 9M 12P 15P"],\n  5: ["1P 5P 8P 12P", "1P 5P 8P 9M 12P", "5P 8P 12P 15P", "5P 8P 12P 15P 16M"],\n  6: ["1P 5P 6M 9M 10M", "1P 5P 9M 10M 13M", "3M 5P 9M 10M 13M", "5P 8P 9M 10M 13M", "3M 6M 9M 12P 15P"],\n  7: [\n    "1P 5P 7m 8P 10M",\n    "1P 7m 8P 10M 12P",\n    "3M 7m 8P 10M 12P",\n    "3M 7m 8P 10M 14m",\n    "3M 7m 10M 12P 15P",\n    "7m 10M 12P 14m 15P",\n    "7m 10M 12P 15P 17M",\n    "7m 10M 14m 17M 19P"\n  ],\n  9: [\n    "1P 6M 7m 9M 10M",\n    "3M 7m 9M 10M 12P",\n    "1P 7m 9M 10M 13M",\n    "3M 7m 9M 10M 13M",\n    "3M 7m 9M 12P 15P",\n    "7m 10M 12P 13M 16M",\n    "7m 10M 13M 16M 17M",\n    "7m 10M 13M 16M 19P"\n  ],\n  11: [\n    "1P 4P 6M 7m 9M",\n    "1P 5P 7m 9M 11P",\n    "4P 6M 7m 9M 11P",\n    "5P 8P 9M 11P 14m",\n    "7m 9M 11P 13M 15P",\n    "7m 11P 12P 14m 18P"\n  ],\n  13: [\n    "3M 7m 9M 10M 13M",\n    "3M 7m 9M 13M 15P",\n    "3M 7m 10M 13M 16M",\n    "7m 10M 12P 13M 16M",\n    "7m 10M 13M 16M 17M",\n    "7m 10M 13M 16M 19P"\n  ],\n  69: ["1P 5P 6M 9M 10M", "1P 5P 9M 10M 13M", "3M 5P 9M 10M 13M", "5P 8P 9M 10M 13M", "3M 6M 9M 12P 15P"],\n  add9: [\n    "1P 5P 8P 9M 10M",\n    "1P 5P 9M 10M 12P",\n    "3M 8P 9M 10M 12P",\n    "3M 8P 9M 12P 15P",\n    "5P 8P 9M 10M 15P",\n    "5P 8P 9M 12P 17M"\n  ],\n  "+": [\n    "1P 6m 8P 9M 10M",\n    "1P 6m 8P 10M 13m",\n    "3M 8P 9M 10M 13m",\n    "3M 8P 10M 13m 15P",\n    "6m 10M 13m 15P 16M",\n    "6m 10M 13m 15P 17M"\n  ],\n  o: [\n    "1P 6M 8P 10m 12d",\n    "1P 6M 10m 12d 13M",\n    "3m 8P 10m 12d 13M",\n    "3m 8P 12d 13M 15P",\n    "5d 10m 12d 13M 15P",\n    "5d 10m 13M 15P 17m",\n    "6M 12d 13M 15P 17m",\n    "6M 12d 15P 17m 19d"\n  ],\n  h: [\n    "1P 5d 7m 10m 11P",\n    "3m 5d 7m 8P 11P",\n    "5d 7m 8P 10m 11P",\n    "1P 7m 10m 12d",\n    "3m 7m 8P 12d 14m",\n    "5d 8P 10m 11P 14m",\n    "7m 10m 11P 12d 14m",\n    "7m 10m 12d 14m 15P",\n    "5d 8P 10m 14m 17m"\n  ],\n  sus: [\n    "1P 4P 5P 8P 9M",\n    "1P 4P 5P 8P 11P",\n    "1P 5P 8P 9M 11P",\n    "5P 8P 9M 11P 12P",\n    "5P 8P 11P 12P 13M",\n    "5P 8P 11P 13M 15P"\n  ],\n  "^": [\n    "1P 3M 5P 6M 9M",\n    "1P 5P 8P 10M 12P",\n    "3M 5P 9M 10M 12P",\n    "1P 5P 8P 10M 13M",\n    "3M 8P 10M 13M 15P",\n    "5P 9M 10M 12P 15P"\n  ],\n  "-": [\n    "1P 3m 5P 8P 10m",\n    "1P 3m 5P 9M 11P",\n    "3m 5P 8P 9M 11P",\n    "5P 8P 9M 10m 11P",\n    "1P 5P 9M 10m 12P",\n    "3m 5P 8P 10m 12P",\n    "5P 8P 10m 12P 15P"\n  ],\n  "^7": [\n    "1P 6M 7M 9M 10M",\n    "3M 7M 9M 10M 12P",\n    "1P 7M 9M 10M 13M",\n    "3M 7M 9M 10M 13M",\n    "3M 7M 9M 12P 13M",\n    "3M 7M 9M 13M 14M",\n    "3M 7M 10M 13M 16M",\n    "7M 10M 13M 14M 16M",\n    "7M 10M 13M 16M 17M",\n    "7M 10M 13M 16M 19P"\n  ],\n  "-7": [\n    "1P 3m 5P 7m 9M",\n    "1P 3m 5P 7m 10m",\n    "1P 5P 7m 10m 11P",\n    "3m 7m 8P 10m 11P",\n    "1P 5P 7m 10m 12P",\n    "3m 7m 9M 10m 12P",\n    "3m 7m 8P 10m 14m",\n    "5P 7m 9M 10m 14m",\n    "7m 10m 11P 14m 15P",\n    "7m 10m 12P 15P 16M",\n    "5P 8P 11P 14m 17m",\n    "7m 10m 12P 15P 17m"\n  ],\n  "7sus": [\n    "1P 4P 6M 7m 9M",\n    "1P 5P 7m 9M 11P",\n    "4P 6M 7m 9M 11P",\n    "5P 8P 9M 11P 14m",\n    "7m 9M 11P 13M 15P",\n    "7m 11P 12P 14m 18P"\n  ],\n  h7: [\n    "1P 5d 7m 10m 11P",\n    "3m 5d 7m 8P 11P",\n    "5d 7m 8P 10m 11P",\n    "1P 7m 10m 12d",\n    "3m 7m 8P 10m 12d",\n    "3m 7m 8P 12d 14m",\n    "5d 8P 10m 11P 14m",\n    "7m 10m 11P 12d 14m",\n    "7m 10m 12d 14m 15P",\n    "5d 8P 10m 14m 17m"\n  ],\n  o7: [\n    "1P 6M 8P 10m 12d",\n    "1P 6M 10m 12d 13M",\n    "3m 8P 10m 12d 13M",\n    "3m 8P 12d 13M 15P",\n    "5d 10m 12d 13M 15P",\n    "5d 10m 13M 15P 17m",\n    "6M 12d 13M 15P 17m",\n    "6M 12d 15P 17m 19d"\n  ],\n  "^9": [\n    "1P 6M 7M 9M 10M",\n    "1P 7M 9M 10M 13M",\n    "3M 7M 9M 10M 13M",\n    "3M 7M 9M 12P 13M",\n    "3M 7M 8P 9M 13M",\n    "3M 7M 9M 13M 14M",\n    "3M 7M 10M 13M 16M",\n    "7M 10M 13M 14M 16M",\n    "7M 10M 13M 16M 17M",\n    "7M 10M 13M 16M 19P"\n  ],\n  "^13": [\n    "1P 6M 7M 9M 10M",\n    "1P 7M 9M 10M 13M",\n    "3M 7M 9M 12P 13M",\n    "3M 7M 9M 10M 13M",\n    "3M 7M 8P 9M 13M",\n    "3M 7M 9M 13M 14M",\n    "3M 7M 10M 13M 16M",\n    "7M 10M 13M 14M 16M",\n    "7M 10M 13M 16M 17M",\n    "7M 10M 13M 16M 19P"\n  ],\n  "^7#11": [\n    "1P 3M 5d 7M 9M",\n    "1P 7M 9M 10M 12d",\n    "3M 7M 9M 10M 12d",\n    "3M 7M 9M 12d 13M",\n    "3M 7M 10M 12d 14M",\n    "7M 10M 12d 13M 14M",\n    "7M 10M 12d 13M 16M",\n    "7M 10M 12d 14M 17M"\n  ],\n  "^9#11": [\n    "1P 3M 5d 7M 9M",\n    "1P 7M 9M 10M 12d",\n    "3M 7M 9M 10M 12d",\n    "3M 7M 9M 12d 13M",\n    "3M 7M 9M 12d 14M",\n    "7M 10M 12d 14M 16M",\n    "7M 10M 12d 13M 16M"\n  ],\n  "^7#5": ["1P 6m 7M 10M 13m", "3M 7M 9M 10M 13m", "3M 7M 10M 13m 14M", "7M 10M 13m 14M 16M", "7M 10M 13m 14M 17M"],\n  "-6": [\n    "1P 3m 5P 6M 9M",\n    "3m 5P 6M 8P 9M",\n    "1P 5P 6M 10m 11P",\n    "3m 5P 6M 8P 11P",\n    "1P 5P 9M 10m 13M",\n    "3m 5P 8P 9M 13M",\n    "5P 8P 10m 11P 13M",\n    "5P 8P 10m 13M 16M"\n  ],\n  "-69": [\n    "1P 3m 5P 6M 9M",\n    "3m 5P 6M 8P 9M",\n    "3m 6M 9M 10m 12P",\n    "1P 5P 9M 10m 13M",\n    "3m 5P 8P 9M 13M",\n    "5P 8P 9M 10m 13M",\n    "5P 8P 10m 13M 16M"\n  ],\n  "-^7": [\n    "1P 3m 5P 7M 9M",\n    "1P 5P 7M 10m 11P",\n    "3m 7M 9M 10m 11P",\n    "3m 7M 9M 10m 12P",\n    "3m 7M 9M 12P 14M",\n    "7M 10m 11P 12P 14M",\n    "7M 10m 12P 14M 16M"\n  ],\n  "-^9": [\n    "1P 3m 5P 7M 9M",\n    "1P 5P 7M 10m 11P",\n    "3m 7M 9M 10m 11P",\n    "3m 7M 9M 10m 12P",\n    "3m 7M 9M 12P 14M",\n    "7M 10m 11P 12P 14M",\n    "7M 10m 12P 14M 16M"\n  ],\n  "-9": [\n    "1P 3m 5P 7m 9M",\n    "1P 3m 7m 9M 11P",\n    "3m 7m 9M 10m 11P",\n    "3m 7m 9M 10m 12P",\n    "3m 7m 9M 10m 14m",\n    "3m 7m 9M 12P 15P",\n    "7m 10m 11P 14m 16M",\n    "7m 10m 12P 16M 18P"\n  ],\n  "-add9": ["1P 2M 3m 5P 8P", "1P 3m 5P 9M", "3m 5P 8P 9M 12P", "5P 8P 9M 10m 12P"],\n  "-11": [\n    "3m 5P 7m 9M 11P",\n    "7m 9M 10m 11P",\n    "1P 4P 7m 10m 12P",\n    "3m 7m 9M 11P 12P",\n    "7m 9M 10m 11P 12P",\n    "3m 7m 9M 11P 14m",\n    "4P 10m 12P 14m",\n    "5P 8P 11P 14m",\n    "5P 8P 11P 14m 16M",\n    "7m 10m 12P 16M 18P",\n    "7m 10m 11P 16M 21m"\n  ],\n  "-7b5": [\n    "1P 5d 7m 10m 11P",\n    "3m 5d 7m 8P 11P",\n    "5d 7m 8P 10m 11P",\n    "1P 7m 10m 12d",\n    "3m 7m 8P 10m 12d",\n    "3m 7m 8P 12d 14m",\n    "5d 8P 10m 11P 14m",\n    "7m 10m 11P 12d 14m",\n    "7m 10m 12d 14m 15P",\n    "5d 8P 10m 14m 17m"\n  ],\n  h9: [\n    "3m 5d 7m 9M 11P",\n    "1P 7m 9M 10m 12d",\n    "3m 7m 9M 12d 14m",\n    "5d 8P 9M 10m 14m",\n    "7m 10m 11P 12d 14m",\n    "7m 10m 12d 14m 16M"\n  ],\n  "-b6": ["1P 3m 5P 6m 8P", "3m 5P 8P 11P 13m", "5P 8P 10m 11P 13m"],\n  "-#5": ["1P 6m 8P 10m 13m", "3m 6m 8P 11P 13m", "6m 8P 10m 13m 15P"],\n  "7b9": ["1P 3M 7m 9m 10M", "3M 7m 8P 9m 10M", "3M 7m 8P 9m 14m", "7m 9m 10M 14m 15P"],\n  "7#9": ["1P 3M 7m 10m", "3M 7m 10m 10M 12P", "3M 7m 10m 12P 14m", "7m 10M 12P 14m 17m"],\n  "7#11": ["1P 3M 7m 9M 12d", "3M 7m 9M 12d 13M", "7m 10M 12d 13M 16M"],\n  "7b5": ["1P 3M 7m 9M 12d", "3M 7m 9M 12d 13M", "7m 10M 12d 13M 16M"],\n  "7#5": ["1P 3M 7m 10M 13m", "3M 7m 8P 10M 13m", "3M 7m 8P 13m 14m", "7m 10M 13m 14m 15P", "7m 10M 13m 14m 17M"],\n  "9#11": ["1P 7m 9M 10M 12d", "3M 7m 8P 9M 12d", "7m 10M 12d 15P 16M"],\n  "9b5": ["1P 7m 9M 10M 12d", "3M 7m 8P 9M 12d", "7m 10M 12d 15P 16M"],\n  "9#5": ["1P 7m 9M 10M 13m", "3M 7m 9M 10M 13m", "3M 7m 9M 13m 14m", "7m 10M 13m 14m 16M", "7m 10M 13m 16M 17M"],\n  "7b13": ["1P 3M 7m 10M 13m", "3M 7m 8P 10M 13m", "3M 7m 8P 13m 14m", "7m 10M 13m 14m 15P", "7m 10M 13m 14m 17M"],\n  "7#9#5": ["3M 7m 10m 10M 13m", "3M 7m 10m 13m 14m", "7m 10M 13m 14m 17m"],\n  "7#9b5": ["3M 7m 10m 10M 12d", "3M 7m 10m 12d 14m", "7m 10M 12d 14m 17m"],\n  "7#9#11": ["3M 7m 10m 10M 12d", "3M 7m 10m 12d 14m", "7m 10M 12d 14m 17m"],\n  "7b9#11": ["3M 7m 9m 10M 12d", "3M 7m 9m 12d 14m", "7m 8P 10M 12d 16m", "7m 10M 12d 14m 16m"],\n  "7b9b5": ["3M 7m 9m 10M 12d", "3M 7m 9m 12d 14m", "7m 8P 10M 12d 16m", "7m 10M 12d 14m 16m"],\n  "7b9#5": ["1P 7m 9m 10M 13m", "3M 7m 9m 10M 13m", "3M 7m 10M 13m 16m", "7m 10M 13m 14m 16m", "7m 10M 13m 16m 17M"],\n  "7b9#9": ["1P 3M 7m 9m 10m", "3M 7m 10m 13m 16m", "7m 10M 13m 16m 17m"],\n  "7b9b13": ["1P 7m 9m 10M 13m", "3M 7m 9m 10M 13m", "3M 7m 10M 13m 16m", "7m 10M 13m 14m 16m", "7m 10M 13m 16m 17M"],\n  "7alt": [\n    "3M 7m 8P 10m 13m",\n    "3M 7m 9m 12d 13m",\n    "3M 7m 9m 10m 13m",\n    "3M 7m 10m 13m 14m",\n    "3M 7m 9m 12d 14m",\n    "3M 7m 10m 13m 15P",\n    "3M 7m 10m 13m 16m",\n    "7m 10M 12d 14m 16m",\n    "7m 10M 12d 13m 16m",\n    "7m 10M 13m 15P 17m",\n    "7m 10M 13m 16m 17m",\n    "7m 10M 13m 16m 19d"\n  ],\n  "13#11": ["3M 7m 9M 12d 13M", "7m 10M 12d 13M 16M"],\n  "13b9": ["3M 7m 9m 10M 13M", "3M 7m 10M 13M 16m", "7m 10M 13M 16m 17M"],\n  "13#9": ["3M 7m 10m 10M 13M", "7m 10M 13M 14m 17m"],\n  "7b9sus": ["1P 5P 7m 9m 11P", "5P 7m 8P 9m 11P", "7m 8P 11P 14m 16m"],\n  "7susadd3": ["1P 4P 5P 7m 10M", "5P 8P 10M 11P 14m", "7m 11P 12P 15P 17M"],\n  "9sus": [\n    "1P 4P 6M 7m 9M",\n    "1P 5P 7m 9M 11P",\n    "4P 6M 7m 9M 11P",\n    "5P 8P 9M 11P 14m",\n    "7m 9M 11P 13M 15P",\n    "7m 11P 12P 14m 18P"\n  ],\n  "13sus": [\n    "1P 4P 6M 7m 9M",\n    "1P 7m 9M 11P 13M",\n    "4P 7m 9M 11P 13M",\n    "7m 9M 11P 13M 15P",\n    "7m 11P 13M 14m 16M",\n    "7m 11P 13M 16M 18P"\n  ],\n  "7b13sus": ["1P 5P 7m 11P 13m", "5P 7m 8P 11P 13m", "7m 11P 13m 14m 15P"]\n}, { dictionaryVoicing: IM, minTopNoteDiff: TM } = Ut.default || Ut, _M = {\n  m7: ["3m 5P 7m 9M", "7m 9M 10m 12P"],\n  7: ["3M 6M 7m 9M", "7m 9M 10M 13M"],\n  "^7": ["3M 5P 7M 9M", "7M 9M 10M 12P"],\n  69: ["3M 5P 6A 9M"],\n  m7b5: ["3m 5d 7m 8P", "7m 8P 10m 12d"],\n  "7b9": ["3M 6m 7m 9m", "7m 9m 10M 13m"],\n  "7b13": ["3M 6m 7m 9m", "7m 9m 10M 13m"],\n  o7: ["1P 3m 5d 6M", "5d 6M 8P 10m"],\n  "7#11": ["7m 9M 11A 13A"],\n  "7#9": ["3M 7m 9A"],\n  mM7: ["3m 5P 7M 9M", "7M 9M 10m 12P"],\n  m6: ["3m 5P 6M 9M", "6M 9M 10m 12P"]\n}, CM = {\n  m7: ["3m 7m", "7m 10m"],\n  m9: ["3m 7m", "7m 10m"],\n  7: ["3M 7m", "7m 10M"],\n  "^7": ["3M 7M", "7M 10M"],\n  "^9": ["3M 7M", "7M 10M"],\n  69: ["3M 6M"],\n  6: ["3M 6M", "6M 10M"],\n  m7b5: ["3m 7m", "7m 10m"],\n  "7b9": ["3M 7m", "7m 10M"],\n  "7b13": ["3M 7m", "7m 10M"],\n  o7: ["3m 6M", "6M 10m"],\n  "7#11": ["3M 7m", "7m 10M"],\n  "7#9": ["3M 7m", "7m 10M"],\n  mM7: ["3m 7M", "7M 10m"],\n  m6: ["3m 6M", "6M 10m"]\n}, EM = {\n  "": ["1P 3M 5P", "3M 5P 8P", "5P 8P 10M"],\n  M: ["1P 3M 5P", "3M 5P 8P", "5P 8P 10M"],\n  m: ["1P 3m 5P", "3m 5P 8P", "5P 8P 10m"],\n  o: ["1P 3m 5d", "3m 5d 8P", "5d 8P 10m"],\n  aug: ["1P 3m 5A", "3m 5A 8P", "5A 8P 10m"]\n}, DM = {\n  // triads\n  "": ["1P 3M 5P", "3M 5P 8P", "5P 8P 10M"],\n  M: ["1P 3M 5P", "3M 5P 8P", "5P 8P 10M"],\n  m: ["1P 3m 5P", "3m 5P 8P", "5P 8P 10m"],\n  o: ["1P 3m 5d", "3m 5d 8P", "5d 8P 10m"],\n  aug: ["1P 3m 5A", "3m 5A 8P", "5A 8P 10m"],\n  // sevenths chords\n  m7: ["3m 5P 7m 9M", "7m 9M 10m 12P"],\n  7: ["3M 6M 7m 9M", "7m 9M 10M 13M"],\n  "^7": ["3M 5P 7M 9M", "7M 9M 10M 12P"],\n  69: ["3M 5P 6A 9M"],\n  m7b5: ["3m 5d 7m 8P", "7m 8P 10m 12d"],\n  "7b9": ["3M 6m 7m 9m", "7m 9m 10M 13m"],\n  "7b13": ["3M 6m 7m 9m", "7m 9m 10M 13m"],\n  o7: ["1P 3m 5d 6M", "5d 6M 8P 10m"],\n  "7#11": ["7m 9M 11A 13A"],\n  "7#9": ["3M 7m 9A"],\n  mM7: ["3m 5P 7M 9M", "7M 9M 10m 12P"],\n  m6: ["3m 5P 6M 9M", "6M 9M 10m 12P"]\n}, t1 = {\n  lefthand: { dictionary: _M, range: ["F3", "A4"], mode: "below", anchor: "a4" },\n  triads: { dictionary: EM, mode: "below", anchor: "a4" },\n  guidetones: { dictionary: CM, mode: "above", anchor: "a4" },\n  legacy: { dictionary: DM, mode: "below", anchor: "a4" }\n};\nlet rm = "ireal";\nconst wM = (t) => rm = t, qM = (t, n) => xM(t, t1[t].dictionary, n), xM = (t, n, m = ["F3", "A4"]) => {\n  Object.assign(t1, { [t]: { dictionary: n, range: m } });\n}, om = (t, n, m = {}) => {\n  Object.assign(t1, { [t]: { dictionary: n, ...m } });\n}, VM = (t, n, m) => {\n  const { dictionary: e, range: r } = t1[n];\n  return IM({\n    chord: t,\n    dictionary: e,\n    range: r,\n    picker: TM,\n    lastVoicing: m\n  });\n};\nlet P1;\nconst GM = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.S)("voicings", function(t, n) {\n  return n.fmap((m) => (P1 = VM(m, t, P1), (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.Y)(...P1))).outerJoin();\n}), zM = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.S)("rootNotes", function(t, n) {\n  return n.fmap((m) => {\n    const o = (m.chord || m).match(/^([a-gA-G][b#]?).*$/)[1] + t;\n    return m.chord ? { note: o } : o;\n  });\n}), BM = (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.S)("voicing", function(t) {\n  return t.fmap((n) => {\n    n = typeof n == "string" ? { chord: n } : n;\n    let { dictionary: m = rm, chord: e, anchor: r, offset: o, mode: M, n: P, octaves: a, ...i } = n;\n    m = typeof m == "string" ? t1[m] : { dictionary: m, mode: "below", anchor: "c5" };\n    try {\n      let s = gM({ ...m, chord: e, anchor: r, offset: o, mode: M, n: P, octaves: a });\n      return (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.Y)(...s).note().set(i);\n    } catch {\n      return (0,_index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.A)(`[voicing]: unknown chord "${e}"`), _index_DfdLyHnT_js__WEBPACK_IMPORTED_MODULE_0__.V;\n    }\n  }).outerJoin();\n});\nfunction a1(t, n, m) {\n  m = Array.isArray(m) ? m : [m], m.forEach((e) => {\n    e[n] = e[t];\n  });\n}\na1("^", "", [k, W]);\nObject.keys(k).forEach((t) => {\n  if (t.includes("-")) {\n    let n = t.replace("-", "m");\n    a1(t, n, [W, k]);\n  }\n  if (t.includes("^")) {\n    let n = t.replace("^", "M");\n    a1(t, n, [W, k]);\n  }\n  if (t.includes("+")) {\n    let n = t.replace("+", "aug");\n    a1(t, n, [W, k]);\n  }\n});\nom("ireal", k);\nom("ireal-ext", W);\nfunction LM() {\n  P1 = void 0, wM("ireal");\n}\nconst HM = "@strudel/tonal";\n\n\n\n//# sourceURL=webpack://frontend/../node_modules/@strudel/repl/dist/index-DRSMaVpv.js?')}}]);