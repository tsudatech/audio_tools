"use strict";(self.webpackChunkaudio_tools=self.webpackChunkaudio_tools||[]).push([[448],{878:(m,t,n)=>{n.r(t),n.d(t,{AbcNotation:()=>F,Array:()=>e,Chord:()=>Bt,ChordDictionary:()=>fM,ChordType:()=>It,Collection:()=>W,Core:()=>M,DurationValue:()=>Kt,Interval:()=>tn,Key:()=>oe,Midi:()=>fn,Mode:()=>Se,Note:()=>Dn,PcSet:()=>lM,Pcset:()=>hm,Progression:()=>Je,Range:()=>Ke,RomanNumeral:()=>Ln,Scale:()=>PM,ScaleDictionary:()=>hM,ScaleType:()=>Ft,TimeSignature:()=>cM,Tonal:()=>uM,accToAlt:()=>Pt,altToAcc:()=>Mt,chroma:()=>Tm,coordToInterval:()=>Zm,coordToNote:()=>it,coordinates:()=>_m,deprecate:()=>ht,distance:()=>lt,fillStr:()=>ft,height:()=>km,interval:()=>Qm,isNamed:()=>pt,isNamedPitch:()=>Cm,isPitch:()=>Em,midi:()=>Om,note:()=>rt,pitch:()=>Rm,stepToLetter:()=>et,tokenizeInterval:()=>Km,tokenizeNote:()=>at,tonicIntervalsTransposer:()=>ut,transpose:()=>dt});var e={};n.r(e),n.d(e,{compact:()=>R,permutations:()=>L,range:()=>_,rotate:()=>z,shuffle:()=>U,sortedNoteNames:()=>G,sortedUniqNoteNames:()=>B});var M={};function P(m){return null!==m&&"object"==typeof m&&"name"in m&&"string"==typeof m.name}n.r(M),n.d(M,{accToAlt:()=>Pt,altToAcc:()=>Mt,chroma:()=>Tm,coordToInterval:()=>Zm,coordToNote:()=>it,coordinates:()=>_m,deprecate:()=>ht,distance:()=>lt,fillStr:()=>ft,height:()=>km,interval:()=>Qm,isNamed:()=>pt,isNamedPitch:()=>Cm,isPitch:()=>Em,midi:()=>Om,note:()=>rt,pitch:()=>Rm,stepToLetter:()=>et,tokenizeInterval:()=>Km,tokenizeNote:()=>at,tonicIntervalsTransposer:()=>ut,transpose:()=>dt});function r(m){return null!==m&&"object"==typeof m&&"step"in m&&"number"==typeof m.step&&"alt"in m&&"number"==typeof m.alt&&!isNaN(m.step)&&!isNaN(m.alt)}var o=[0,2,4,-1,1,3,5],a=o.map(m=>Math.floor(7*m/12));function i(m){const{step:t,alt:n,oct:e,dir:M=1}=m,P=o[t]+7*n;if(void 0===e)return[M*P];return[M*P,M*(e-a[t]-4*n)]}var s=[3,0,4,1,5,2,6];function c(m){const[t,n,e]=m,M=s[function(m){const t=(m+1)%7;return t<0?7+t:t}(t)],P=Math.floor((t+1)/7);if(void 0===n)return{step:M,alt:P,dir:e};return{step:M,alt:P,oct:n+4*P+a[M],dir:e}}var d=(m,t)=>Array(Math.abs(t)+1).join(m),u=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),l=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var f={};function h(m){return"string"==typeof m?f[m]||(f[m]=function(m){const t=function(m){const t=l.exec(`${m}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return u;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=b[M];if("M"===P&&"P"===e)return u;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,s=8===n||-8===n?n:a*(M+1),c=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),d=Math.floor((Math.abs(n)-1)/7),f=a*(p[M]+c+12*d),h=(a*(p[M]+c)%12+12)%12,A=i({step:M,alt:c,oct:d,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:c,dir:a,type:r,simple:s,semitones:f,chroma:h,coord:A,oct:d}}(m)):r(m)?h(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===b[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?d("A",t):d("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):P(m)?h(m.name):u}var p=[0,2,4,5,7,9,11],b="PMMPPMM";var A=(m,t)=>Array(Math.abs(t)+1).join(m),g=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),y=new Map,v=m=>"CDEFGAB".charAt(m),j=m=>m<0?A("b",-m):A("#",m),N=m=>"b"===m[0]?-m.length:m.length;function x(m){const t=JSON.stringify(m),n=y.get(t);if(n)return n;const e="string"==typeof m?function(m){const t=I(m);if(""===t[0]||""!==t[3])return g;const n=t[0],e=t[1],M=t[2],P=(n.charCodeAt(0)+3)%7,r=N(e),o=M.length?+M:void 0,a=i({step:P,alt:r,oct:o}),s=n+e+M,c=n+e,d=(D[P]+r+120)%12,u=void 0===o?$(D[P]+r,12)-1188:D[P]+r+12*(o+1),l=u>=0&&u<=127?u:null,f=void 0===o?null:440*Math.pow(2,(u-69)/12);return{empty:!1,acc:e,alt:r,chroma:d,coord:a,freq:f,height:u,letter:n,midi:l,name:s,oct:o,pc:c,step:P}}(m):r(m)?x(function(m){const{step:t,alt:n,oct:e}=m,M=v(t);if(!M)return"";const P=M+j(n);return e||0===e?P+e:P}(m)):P(m)?x(m.name):g;return y.set(t,e),e}var w=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function I(m){const t=w.exec(m);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}var $=(m,t)=>(m%t+t)%t,D=[0,2,4,5,7,9,11];function S(m,t){const n=x(m),e=Array.isArray(t)?t:h(t).coord;if(n.empty||!e||e.length<2)return"";const M=n.coord;return function(m){return x(c(m))}(1===M.length?[M[0]+e[0]]:[M[0]+e[0],M[1]+e[1]]).name}function C(m,t){const n=m.length;return e=>{if(!t)return"";const M=e<0?(n- -e%n)%n:e%n,P=Math.floor(e/n),r=S(t,[0,P]);return S(r,m[M])}}function V(m,t){const n=x(m),e=x(t);if(n.empty||e.empty)return"";const M=n.coord,P=e.coord,r=P[0]-M[0];return function(m,t){const[n,e=0]=m;return h(c(t||7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}([r,2===M.length&&2===P.length?P[1]-M[1]:-Math.floor(7*r/12)],e.height===n.height&&null!==e.midi&&n.oct===e.oct&&n.step>e.step).name}var T=(m,t)=>Array(t+1).join(m),k=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function O(m){const t=k.exec(m);return t?[t[1],t[2],t[3]]:["","",""]}function E(m){const[t,n,e]=O(m);if(""===n)return"";let M=4;for(let m=0;m<e.length;m++)M+=","===e.charAt(m)?-1:1;const P="_"===t[0]?t.replace(/_/g,"b"):"^"===t[0]?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+P+(M+1):n+P+M}function q(m){const t=x(m);if(t.empty||!t.oct&&0!==t.oct)return"";const{letter:n,acc:e,oct:M}=t;return("b"===e[0]?e.replace(/b/g,"_"):e.replace(/#/g,"^"))+(M>4?n.toLowerCase():n)+(5===M?"":M>4?T("'",M-5):T(",",4-M))}var F={abcToScientificNotation:E,scientificToAbcNotation:q,tokenize:O,transpose:function(m,t){return q(S(E(m),t))},distance:function(m,t){return V(E(m),E(t))}};function _(m,t){return m<t?function(m,t){const n=[];for(;t--;n[t]=t+m);return n}(m,t-m+1):function(m,t){const n=[];for(;t--;n[t]=m-t);return n}(m,m-t+1)}function z(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function R(m){return m.filter(m=>0===m||m)}function G(m){return m.map(m=>x(m)).filter(m=>!m.empty).sort((m,t)=>m.height-t.height).map(m=>m.name)}function B(m){return G(m).filter((m,t,n)=>0===t||m!==n[t-1])}function U(m,t=Math.random){let n,e,M=m.length;for(;M;)n=Math.floor(t()*M--),e=m[M],m[M]=m[n],m[n]=e;return m}function L(m){return 0===m.length?[[]]:L(m.slice(1)).reduce((t,n)=>t.concat(m.map((t,e)=>{const M=n.slice();return M.splice(e,0,m[0]),M})),[])}function J(m,t){return m<t?function(m,t){const n=[];for(;t--;n[t]=t+m);return n}(m,t-m+1):function(m,t){const n=[];for(;t--;n[t]=m-t);return n}(m,m-t+1)}function H(m,t){const n=t.length,e=(m%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}function K(m){return m.filter(m=>0===m||m)}var W={compact:K,permutations:function m(t){return 0===t.length?[[]]:m(t.slice(1)).reduce((m,n)=>m.concat(t.map((m,e)=>{const M=n.slice();return M.splice(e,0,t[0]),M})),[])},range:J,rotate:H,shuffle:function(m,t=Math.random){let n,e,M=m.length;for(;M;)n=Math.floor(t()*M--),e=m[M],m[M]=m[n],m[n]=e;return m}},Q=(m,t)=>Array(Math.abs(t)+1).join(m),X=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Y=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var Z={};function mm(m){return"string"==typeof m?Z[m]||(Z[m]=function(m){const t=function(m){const t=Y.exec(`${m}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return X;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=nm[M];if("M"===P&&"P"===e)return X;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,s=8===n||-8===n?n:a*(M+1),c=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),d=Math.floor((Math.abs(n)-1)/7),u=a*(tm[M]+c+12*d),l=(a*(tm[M]+c)%12+12)%12,f=i({step:M,alt:c,oct:d,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:c,dir:a,type:r,simple:s,semitones:u,chroma:l,coord:f,oct:d}}(m)):r(m)?mm(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===nm[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?Q("A",t):Q("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):P(m)?mm(m.name):X}var tm=[0,2,4,5,7,9,11],nm="PMMPPMM";var em={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Mm=m=>Number(m).toString(2).padStart(12,"0"),Pm=m=>parseInt(m,2),rm=/^[01]{12}$/;function om(m){return rm.test(m)}var am={[em.chroma]:em};function im(m){const t=om(m)?m:"number"==typeof(n=m)&&n>=0&&n<=4095?Mm(m):Array.isArray(m)?function(m){if(0===m.length)return em.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let e=0;e<m.length;e++)t=x(m[e]),t.empty&&(t=mm(m[e])),t.empty||(n[t.chroma]=1);return n.join("")}(m):(m=>m&&om(m.chroma))(m)?m.chroma:em.chroma;var n;return am[t]=am[t]||function(m){const t=Pm(m),n=function(m){const t=m.split("");return t.map((m,n)=>H(n,t).join(""))}(m).map(Pm).filter(m=>m>=2048).sort()[0],e=Mm(n),M=function(m){const t=[];for(let n=0;n<12;n++)"1"===m.charAt(n)&&t.push(cm[n]);return t}(m);return{empty:!1,name:"",setNum:t,chroma:m,normalized:e,intervals:M}}(t)}var sm=m=>im(m).chroma,cm=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function dm(m,t=!0){const n=im(m).chroma.split("");return K(n.map((m,e)=>{const M=H(e,n);return t&&"0"===M[0]?null:M.join("")}))}function um(m){const t=im(m).setNum;return m=>{const n=im(m).setNum;return t&&t!==n&&(n&t)===n}}function lm(m){const t=im(m).setNum;return m=>{const n=im(m).setNum;return t&&t!==n&&(n|t)===n}}function fm(m){const t=im(m);return m=>{const n=x(m);return t&&!n.empty&&"1"===t.chroma.charAt(n.chroma)}}var hm={get:im,chroma:sm,num:m=>im(m).setNum,intervals:m=>im(m).intervals,chromas:function(){return J(2048,4095).map(Mm)},isSupersetOf:lm,isSubsetOf:um,isNoteIncludedIn:fm,isEqual:function(m,t){return im(m).setNum===im(t).setNum},filter:function(m){const t=fm(m);return m=>m.filter(t)},modes:dm,notes:function(m){return im(m).intervals.map(m=>S("C",m))},pcset:im};var pm=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],bm=[],Am={};function gm(){return bm.slice()}function ym(m,t,n){const e=function(m){const t=t=>-1!==m.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(m),M={...im(m),name:n||"",quality:e,intervals:m,aliases:t};bm.push(M),M.name&&(Am[M.name]=M),Am[M.setNum]=M,Am[M.chroma]=M,M.aliases.forEach(m=>function(m,t){Am[t]=m}(M,m))}pm.forEach(([m,t,n])=>ym(m.split(" "),n.split(" "),t)),bm.sort((m,t)=>m.setNum-t.setNum);function vm(m,t={}){const n=m.map(m=>x(m).pc).filter(m=>m);if(0===x.length)return[];const e=function(m,t,n){const e=m[0],M=x(e).chroma,P=(m=>{const t=m.reduce((m,t)=>{const n=x(t).chroma;return void 0!==n&&(m[n]=m[n]||x(t).name),m},{});return m=>t[m]})(m),r=dm(m,!1),o=[];return r.forEach((m,r)=>{const a=n.assumePerfectFifth&&function(m){const t=parseInt(m,2);return Sm(t)?m:(16|t).toString(2)}(m),i=gm().filter(t=>n.assumePerfectFifth&&function(m){const t=parseInt(m.chroma,2);return Im(t)&&$m(t)&&Dm(t)}(t)?t.chroma===a:t.chroma===m);i.forEach(m=>{const n=m.aliases[0],a=P(r);r!==M?o.push({weight:.5*t,name:`${a}${n}/${e}`}):o.push({weight:1*t,name:`${a}${n}`})})}),o}(n,1,t);return e.filter(m=>m.weight).sort((m,t)=>t.weight-m.weight).map(m=>m.name)}var jm=16,Nm=40,xm=3,wm=m=>t=>Boolean(t&m),Im=wm(384),$m=wm(jm),Dm=wm(xm),Sm=wm(Nm);function Cm(m){return null!==m&&"object"==typeof m&&"name"in m&&"string"==typeof m.name}var Vm=[0,2,4,5,7,9,11],Tm=({step:m,alt:t})=>(Vm[m]+t+120)%12,km=({step:m,alt:t,oct:n,dir:e=1})=>e*(Vm[m]+t+12*(void 0===n?-100:n)),Om=m=>{const t=km(m);return void 0!==m.oct&&t>=-12&&t<=115?t+12:null};function Em(m){return null!==m&&"object"==typeof m&&"step"in m&&"number"==typeof m.step&&"alt"in m&&"number"==typeof m.alt}var qm=[0,2,4,-1,1,3,5],Fm=qm.map(m=>Math.floor(7*m/12));function _m(m){const{step:t,alt:n,oct:e,dir:M=1}=m,P=qm[t]+7*n;if(void 0===e)return[M*P];return[M*P,M*(e-Fm[t]-4*n)]}var zm=[3,0,4,1,5,2,6];function Rm(m){const[t,n,e]=m,M=zm[function(m){const t=(m+1)%7;return t<0?7+t:t}(t)],P=Math.floor((t+1)/7);if(void 0===n)return{step:M,alt:P,dir:e};return{step:M,alt:P,oct:n+4*P+Fm[M],dir:e}}var Gm=[0,2,4,-1,1,3,5],Bm=Gm.map(m=>Math.floor(7*m/12));var Um=[3,0,4,1,5,2,6];var Lm=(m,t)=>Array(Math.abs(t)+1).join(m),Jm={empty:!0,name:"",acc:""},Hm=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");function Km(m){const t=Hm.exec(`${m}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var Wm={};function Qm(m){return"string"==typeof m?Wm[m]||(Wm[m]=function(m){const t=Km(m);if(""===t[0])return Jm;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=Ym[M];if("M"===P&&"P"===e)return Jm;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,i=8===n||-8===n?n:a*(M+1),s=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),c=Math.floor((Math.abs(n)-1)/7),d=a*(Xm[M]+s+12*c),u=(a*(Xm[M]+s)%12+12)%12,l=function(m){const{step:t,alt:n,oct:e,dir:M=1}=m,P=Gm[t]+7*n;return void 0===e?[M*P]:[M*P,M*(e-Bm[t]-4*n)]}({step:M,alt:s,oct:c,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:s,dir:a,type:r,simple:i,semitones:d,chroma:u,coord:l,oct:c}}(m)):null!==(t=m)&&"object"==typeof t&&"step"in t&&"number"==typeof t.step&&"alt"in t&&"number"==typeof t.alt?Qm(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===Ym[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?Lm("A",t):Lm("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):function(m){return null!==m&&"object"==typeof m&&"name"in m&&"string"==typeof m.name}(m)?Qm(m.name):Jm;var t}var Xm=[0,2,4,5,7,9,11],Ym="PMMPPMM";function Zm(m,t){const[n,e=0]=m;return Qm(function(m){const[t,n,e]=m,M=Um[function(m){const t=(m+1)%7;return t<0?7+t:t}(t)],P=Math.floor((t+1)/7);return void 0===n?{step:M,alt:P,dir:e}:{step:M,alt:P,oct:n+4*P+Bm[M],dir:e}}(t||7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}var mt=(m,t)=>Array(Math.abs(t)+1).join(m),tt={empty:!0,name:"",pc:"",acc:""},nt=new Map,et=m=>"CDEFGAB".charAt(m),Mt=m=>m<0?mt("b",-m):mt("#",m),Pt=m=>"b"===m[0]?-m.length:m.length;function rt(m){const t=JSON.stringify(m),n=nt.get(t);if(n)return n;const e="string"==typeof m?function(m){const t=at(m);if(""===t[0]||""!==t[3])return tt;const n=t[0],e=t[1],M=t[2],P=(n.charCodeAt(0)+3)%7,r=Pt(e),o=M.length?+M:void 0,a=_m({step:P,alt:r,oct:o}),i=n+e+M,s=n+e,c=(ct[P]+r+120)%12,d=void 0===o?st(ct[P]+r,12)-1188:ct[P]+r+12*(o+1),u=d>=0&&d<=127?d:null,l=void 0===o?null:440*Math.pow(2,(d-69)/12);return{empty:!1,acc:e,alt:r,chroma:c,coord:a,freq:l,height:d,letter:n,midi:u,name:i,oct:o,pc:s,step:P}}(m):Em(m)?rt(function(m){const{step:t,alt:n,oct:e}=m,M=et(t);if(!M)return"";const P=M+Mt(n);return e||0===e?P+e:P}(m)):Cm(m)?rt(m.name):tt;return nt.set(t,e),e}var ot=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function at(m){const t=ot.exec(m);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function it(m){return rt(Rm(m))}var st=(m,t)=>(m%t+t)%t,ct=[0,2,4,5,7,9,11];function dt(m,t){const n=rt(m),e=Array.isArray(t)?t:Qm(t).coord;if(n.empty||!e||e.length<2)return"";const M=n.coord;return it(1===M.length?[M[0]+e[0]]:[M[0]+e[0],M[1]+e[1]]).name}function ut(m,t){const n=m.length;return e=>{if(!t)return"";const M=e<0?(n- -e%n)%n:e%n,P=Math.floor(e/n),r=dt(t,[0,P]);return dt(r,m[M])}}function lt(m,t){const n=rt(m),e=rt(t);if(n.empty||e.empty)return"";const M=n.coord,P=e.coord,r=P[0]-M[0];return Zm([r,2===M.length&&2===P.length?P[1]-M[1]:-Math.floor(7*r/12)],e.height===n.height&&null!==e.midi&&null!==n.midi&&n.step>e.step).name}var ft=(m,t)=>Array(Math.abs(t)+1).join(m);function ht(m,t,n){return function(...m){return n.apply(this,m)}}var pt=ht(0,0,Cm),bt=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],At={...em,name:"",quality:"Unknown",intervals:[],aliases:[]},gt=[],yt={};function vt(m){return yt[m]||At}var jt=ht(0,0,vt);function Nt(){return gt.slice()}var xt=ht(0,0,Nt);function wt(m,t,n){const e=function(m){const t=t=>-1!==m.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(m),M={...im(m),name:n||"",quality:e,intervals:m,aliases:t};gt.push(M),M.name&&(yt[M.name]=M),yt[M.setNum]=M,yt[M.chroma]=M,M.aliases.forEach(m=>function(m,t){yt[t]=m}(M,m))}bt.forEach(([m,t,n])=>wt(m.split(" "),n.split(" "),t)),gt.sort((m,t)=>m.setNum-t.setNum);var It={names:function(){return gt.map(m=>m.name).filter(m=>m)},symbols:function(){return gt.map(m=>m.aliases[0]).filter(m=>m)},get:vt,all:Nt,add:wt,removeAll:function(){gt=[],yt={}},keys:function(){return Object.keys(yt)},entries:xt,chordType:jt},$t=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],Dt={...em,intervals:[],aliases:[]},St=[],Ct={};function Vt(){return St.map(m=>m.name)}function Tt(m){return Ct[m]||Dt}var kt=Tt;function Ot(){return St.slice()}var Et=Ot;function qt(m,t,n=[]){const e={...im(m),name:t,intervals:m,aliases:n};return St.push(e),Ct[e.name]=e,Ct[e.setNum]=e,Ct[e.chroma]=e,e.aliases.forEach(m=>function(m,t){Ct[t]=m}(e,m)),e}$t.forEach(([m,t,...n])=>qt(m.split(" "),t,n));var Ft={names:Vt,get:Tt,all:Ot,add:qt,removeAll:function(){St=[],Ct={}},keys:function(){return Object.keys(Ct)},entries:Et,scaleType:kt},_t={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function zt(m){const[t,n,e,M]=at(m);return""===t?["",m]:"A"===t&&"ug"===M?["","aug"]:[t+n,e+M]}function Rt(m){if(""===m)return _t;if(Array.isArray(m)&&2===m.length)return Gt(m[1],m[0]);{const[t,n]=zt(m),e=Gt(n,t);return e.empty?Gt(m):e}}function Gt(m,t,n){const e=vt(m),M=rt(t||""),P=rt(n||"");if(e.empty||t&&M.empty||n&&P.empty)return _t;const r=lt(M.pc,P.pc),o=e.intervals.indexOf(r)+1;if(!P.empty&&!o)return _t;const a=Array.from(e.intervals);for(let m=1;m<o;m++){const m=a[0][0],t=a[0][1],n=parseInt(m,10)+7;a.push(`${n}${t}`),a.shift()}const i=M.empty?[]:a.map(m=>dt(M,m));m=-1!==e.aliases.indexOf(m)?m:e.aliases[0];const s=`${M.empty?"":M.pc}${m}${P.empty||o<=1?"":"/"+P.pc}`,c=`${t?M.pc+" ":""}${e.name}${o>1&&n?" over "+P.pc:""}`;return{...e,name:c,symbol:s,type:e.name,root:P.name,intervals:a,rootDegree:o,tonic:M.name,notes:i}}var Bt={getChord:Gt,get:Rt,detect:vm,chordScales:function(m){const t=lm(Rt(m).chroma);return Ot().filter(m=>t(m.chroma)).map(m=>m.name)},extended:function(m){const t=Rt(m),n=lm(t.chroma);return Nt().filter(m=>n(m.chroma)).map(m=>t.tonic+m.aliases[0])},reduced:function(m){const t=Rt(m),n=um(t.chroma);return Nt().filter(m=>n(m.chroma)).map(m=>t.tonic+m.aliases[0])},tokenize:zt,transpose:function(m,t){const[n,e]=zt(m);return n?dt(n,t)+e:m},degrees:function(m){const{intervals:t,tonic:n}=Rt(m),e=ut(t,n);return m=>m?e(m>0?m-1:m):""},steps:function(m){const{intervals:t,tonic:n}=Rt(m);return ut(t,n)},chord:ht(0,0,Rt)},Ut=[];[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]].forEach(([m,t,n])=>function(m,t,n){Ut.push({empty:!1,dots:"",name:"",value:1/m,fraction:m<1?[1/m,1]:[1,m],shorthand:t,names:n})}(m,t,n));var Lt={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};var Jt=/^([^.]+)(\.*)$/;function Ht(m){const[t,n,e]=Jt.exec(m)||[],M=Ut.find(m=>m.shorthand===n||m.names.includes(n));if(!M)return Lt;const P=function(m,t){const n=Math.pow(2,t);let e=m[0]*n,M=m[1]*n;const P=e;for(let m=0;m<t;m++)e+=P/Math.pow(2,m+1);for(;e%2==0&&M%2==0;)e/=2,M/=2;return[e,M]}(M.fraction,e.length),r=P[0]/P[1];return{...M,name:m,dots:e,value:r,fraction:P}}var Kt={names:function(){return Ut.reduce((m,t)=>(t.names.forEach(t=>m.push(t)),m),[])},shorthands:function(){return Ut.map(m=>m.shorthand)},get:Ht,value:m=>Ht(m).value,fraction:m=>Ht(m).fraction};var Wt=Qm;var Qt=[1,2,2,3,3,4,5,5,6,6,7,7],Xt="P m M m M P d P m M m M".split(" ");var Yt=V,Zt=nn((m,t)=>[m[0]+t[0],m[1]+t[1]]),mn=nn((m,t)=>[m[0]-t[0],m[1]-t[1]]);var tn={names:function(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")},get:Wt,name:m=>Qm(m).name,num:m=>Qm(m).num,semitones:m=>Qm(m).semitones,quality:m=>Qm(m).q,fromSemitones:function(m){const t=m<0?-1:1,n=Math.abs(m),e=n%12,M=Math.floor(n/12);return t*(Qt[e]+7*M)+Xt[e]},distance:Yt,invert:function(m){const t=Qm(m);return t.empty?"":Qm({step:(7-t.step)%7,alt:"perfectable"===t.type?-t.alt:-(t.alt+1),oct:t.oct,dir:t.dir}).name},simplify:function(m){const t=Qm(m);return t.empty?"":t.simple+t.q},add:Zt,addTo:m=>t=>Zt(m,t),substract:mn,transposeFifths:function(m,t){const n=Wt(m);if(n.empty)return"";const[e,M,P]=n.coord;return Zm([e+t,M,P]).name}};function nn(m){return(t,n)=>{const e=Qm(t).coord,M=Qm(n).coord;if(e&&M){return Zm(m(e,M)).name}}}function en(m){return+m>=0&&+m<=127}function Mn(m){if(en(m))return+m;const t=x(m);return t.empty?null:t.midi}var Pn=Math.log(2),rn=Math.log(440);function on(m){const t=12*(Math.log(m)-rn)/Pn+69;return Math.round(100*t)/100}var an="C C# D D# E F F# G G# A A# B".split(" "),sn="C Db D Eb E F Gb G Ab A Bb B".split(" ");function cn(m,t={}){if(isNaN(m)||m===-1/0||m===1/0)return"";m=Math.round(m);const n=(!0===t.sharps?an:sn)[m%12];if(t.pitchClass)return n;return n+(Math.floor(m/12)-1)}function dn(m){return m%12}function un(m){return Array.isArray(m)?function(m){return m.map(dn).sort((m,t)=>m-t).filter((m,t,n)=>0===t||m!==n[t-1])}(m):m.split("").reduce((m,t,n)=>(n<12&&"1"===t&&m.push(n),m),[])}function ln(m,t){const n=un(m),e=n.length;return m=>{const M=m<0?(e- -m%e)%e:m%e,P=Math.floor(m/e);return n[M]+12*P+t}}var fn={chroma:dn,freqToMidi:on,isMidi:en,midiToFreq:function(m,t=440){return Math.pow(2,(m-69)/12)*t},midiToNoteName:cn,pcsetNearest:function(m){const t=un(m);return m=>{const n=dn(m);for(let e=0;e<12;e++){if(t.includes(n+e))return m+e;if(t.includes(n-e))return m-e}}},pcset:un,pcsetDegrees:function(m,t){const n=ln(m,t);return m=>{if(0!==m)return n(m>0?m-1:m)}},pcsetSteps:ln,toMidi:Mn},hn=["C","D","E","F","G","A","B"],pn=m=>m.name,bn=m=>m.map(x).filter(m=>!m.empty);var An=x;function gn(m){return cn(m)}var yn=S,vn=m=>t=>yn(t,m),jn=m=>t=>yn(m,t);function Nn(m,t){return yn(m,[t,0])}var xn=(m,t)=>m.height-t.height;function wn(m,t){return t=t||xn,bn(m).sort(t).map(pn)}function In(m){return wn(m,xn).filter((m,t,n)=>0===t||m!==n[t-1])}function $n(m,t){const n=An(m);if(n.empty)return"";const e=An(t||cn(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(e.empty||e.chroma!==n.chroma)return"";if(void 0===n.oct)return e.pc;const M=n.chroma-n.alt,P=e.chroma-e.alt,r=M>11||P<0?-1:M<0||P>11?1:0,o=n.oct+r;return e.pc+o}var Dn={names:function(m){return void 0===m?hn.slice():Array.isArray(m)?bn(m).map(pn):[]},get:An,name:m=>An(m).name,pitchClass:m=>An(m).pc,accidentals:m=>An(m).acc,octave:m=>An(m).oct,midi:m=>An(m).midi,ascending:xn,descending:(m,t)=>t.height-m.height,distance:V,sortedNames:wn,sortedUniqNames:In,fromMidi:gn,fromMidiSharps:function(m){return cn(m,{sharps:!0})},freq:m=>An(m).freq,fromFreq:function(m){return cn(on(m))},fromFreqSharps:function(m){return cn(on(m),{sharps:!0})},chroma:m=>An(m).chroma,transpose:yn,tr:S,transposeBy:vn,trBy:vn,transposeFrom:jn,trFrom:jn,transposeFifths:Nn,transposeOctaves:function(m,t){return yn(m,[0,t])},trFifths:Nn,simplify:m=>{const t=An(m);return t.empty?"":cn(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:null===t.midi})},enharmonic:$n},Sn=(m,t)=>Array(Math.abs(t)+1).join(m),Cn=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Vn=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var Tn={};function kn(m){return"string"==typeof m?Tn[m]||(Tn[m]=function(m){const t=function(m){const t=Vn.exec(`${m}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return Cn;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=En[M];if("M"===P&&"P"===e)return Cn;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,s=8===n||-8===n?n:a*(M+1),c=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),d=Math.floor((Math.abs(n)-1)/7),u=a*(On[M]+c+12*d),l=(a*(On[M]+c)%12+12)%12,f=i({step:M,alt:c,oct:d,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:c,dir:a,type:r,simple:s,semitones:u,chroma:l,coord:f,oct:d}}(m)):r(m)?kn(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===En[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?Sn("A",t):Sn("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):P(m)?kn(m.name):Cn}var On=[0,2,4,5,7,9,11],En="PMMPPMM";var qn={empty:!0,name:"",chordType:""},Fn={};function _n(m){return"string"==typeof m?Fn[m]||(Fn[m]=function(m){const[t,n,e,M]=(P=m,Rn.exec(P)||["","","",""]);var P;if(!e)return qn;const r=e.toUpperCase(),o=Bn.indexOf(r),a=N(n),i=1;return{empty:!1,name:t,roman:e,interval:kn({step:o,alt:a,dir:i}).name,acc:n,chordType:M,alt:a,step:o,major:e===r,oct:0,dir:i}}(m)):"number"==typeof m?_n(Bn[m]||""):r(m)?function(m){return _n(j(m.alt)+Bn[m.step])}(m):P(m)?_n(m.name):qn}var zn=_n;var Rn=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;var Gn="I II III IV V VI VII",Bn=Gn.split(" "),Un=Gn.toLowerCase().split(" ");var Ln={names:function(m=!0){return(m?Bn:Un).slice()},get:_n,romanNumeral:zn},Jn=Object.freeze([]),Hn={type:"major",tonic:"",alteration:0,keySignature:""},Kn={tonic:"",grades:Jn,intervals:Jn,scale:Jn,triads:Jn,chords:Jn,chordsHarmonicFunction:Jn,chordScales:Jn,secondaryDominants:Jn,secondaryDominantSupertonics:Jn,substituteDominantsMinorRelative:Jn,substituteDominants:Jn,substituteDominantSupertonics:Jn,secondaryDominantsMinorRelative:Jn},Wn={...Hn,...Kn,type:"major",minorRelative:"",scale:Jn,substituteDominants:Jn,secondaryDominantSupertonics:Jn,substituteDominantsMinorRelative:Jn},Qn={...Hn,type:"minor",relativeMajor:"",natural:Kn,harmonic:Kn,melodic:Kn},Xn=(m,t,n="")=>t.map((t,e)=>`${m[e]}${n}${t}`);function Yn(m,t,n,e,M){return P=>{const r=m.map(m=>_n(m).interval||""),o=r.map(m=>yn(P,m)),a=Xn(o,n),i=o.map(m=>yn(m,"5P")).map(m=>o.includes(m)&&!a.includes(m+"7")?m+"7":""),s=Zn(i,t),c=i.map(m=>{if(!m)return"";const t=m.slice(0,-1);return yn(t,"5d")+"7"}),d=Zn(c,t);return{tonic:P,grades:m,intervals:r,scale:o,triads:Xn(o,t),chords:a,chordsHarmonicFunction:e.slice(),chordScales:Xn(o,M," "),secondaryDominants:i,secondaryDominantSupertonics:s,substituteDominants:c,substituteDominantSupertonics:d,secondaryDominantsMinorRelative:s,substituteDominantsMinorRelative:d}}}var Zn=(m,t)=>m.map((m,n)=>{if(!m)return"";const e=m.slice(0,-1),M=yn(e,"5P");return t[n].endsWith("m")?M+"m7":M+"m7b5"}),me=(m,t)=>{const n=x(m),e=x(t);return n.empty||e.empty?0:e.coord[0]-n.coord[0]},te=Yn("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),ne=Yn("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),ee=Yn("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),Me=Yn("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function Pe(m){const t=x(m).pc;if(!t)return Wn;const n=te(t),e=me("C",t);return{...n,type:"major",minorRelative:yn(t,"-3m"),alteration:e,keySignature:j(e)}}function re(m){const t=x(m).pc;if(!t)return Qn;const n=me("C",t)-3;return{type:"minor",tonic:t,relativeMajor:yn(t,"3m"),alteration:n,keySignature:j(n),natural:ne(t),harmonic:ee(t),melodic:Me(t)}}var oe={majorKey:Pe,majorTonicFromKeySignature:function(m){return"number"==typeof m?Nn("C",m):"string"==typeof m&&/^b+|#+$/.test(m)?Nn("C",N(m)):null},minorKey:re},ae=(m,t)=>Array(Math.abs(t)+1).join(m),ie=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),se=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var ce={};function de(m){return"string"==typeof m?ce[m]||(ce[m]=function(m){const t=function(m){const t=se.exec(`${m}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return ie;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=le[M];if("M"===P&&"P"===e)return ie;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,s=8===n||-8===n?n:a*(M+1),c=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),d=Math.floor((Math.abs(n)-1)/7),u=a*(ue[M]+c+12*d),l=(a*(ue[M]+c)%12+12)%12,f=i({step:M,alt:c,oct:d,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:c,dir:a,type:r,simple:s,semitones:u,chroma:l,coord:f,oct:d}}(m)):r(m)?de(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===le[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?ae("A",t):ae("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):P(m)?de(m.name):ie}var ue=[0,2,4,5,7,9,11],le="PMMPPMM";function fe(m,t){const[n,e=0]=m;return de(c(t||7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}var he=de;function pe(m){const t=de(m);return t.empty?"":t.simple+t.q}"P m M m M P d P m M m M".split(" ");Ae((m,t)=>[m[0]+t[0],m[1]+t[1]]),Ae((m,t)=>[m[0]-t[0],m[1]-t[1]]);function be(m,t){const n=he(m);if(n.empty)return"";const[e,M,P]=n.coord;return fe([e+t,M,P]).name}function Ae(m){return(t,n)=>{const e=de(t).coord,M=de(n).coord;if(e&&M){return fe(m(e,M)).name}}}var ge=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],ye={...em,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},ve=ge.map(function(m){const[t,n,e,M,P,r,o]=m,a=o?[o]:[],i=Number(n).toString(2),s=Tt(M).intervals;return{empty:!1,intervals:s,modeNum:t,chroma:i,normalized:i,name:M,setNum:n,alt:e,triad:P,seventh:r,aliases:a}}),je={};function Ne(m){return"string"==typeof m?je[m.toLowerCase()]||ye:m&&m.name?Ne(m.name):ye}ve.forEach(m=>{je[m.name]=m,m.aliases.forEach(t=>{je[t]=m})});var xe=Ne;function we(){return ve.slice()}var Ie=we;function $e(m){return(t,n)=>{const e=Ne(t);if(e.empty)return[];const M=H(e.modeNum,m),P=e.intervals.map(m=>S(n,m));return M.map((m,t)=>P[t]+m)}}function De(m,t){const n=Ne(t),e=Ne(m);return n.empty||e.empty?"":pe(be("1P",e.alt-n.alt))}var Se={get:Ne,names:function(){return ve.map(m=>m.name)},all:we,distance:De,relativeTonic:function(m,t,n){return S(n,De(m,t))},notes:function(m,t){return Ne(m).intervals.map(m=>S(t,m))},triads:$e(ge.map(m=>m[4])),seventhChords:$e(ge.map(m=>m[5])),entries:Ie,mode:xe},Ce=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Ve=[],Te={};function ke(m,t,n){const e=function(m){const t=t=>-1!==m.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(m),M={...im(m),name:n||"",quality:e,intervals:m,aliases:t};Ve.push(M),M.name&&(Te[M.name]=M),Te[M.setNum]=M,Te[M.chroma]=M,M.aliases.forEach(m=>function(m,t){Te[t]=m}(M,m))}Ce.forEach(([m,t,n])=>ke(m.split(" "),n.split(" "),t)),Ve.sort((m,t)=>m.setNum-t.setNum);var Oe=(m,t)=>Array(Math.abs(t)+1).join(m),Ee=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),qe=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");var Fe={};function _e(m){return"string"==typeof m?Fe[m]||(Fe[m]=function(m){const t=function(m){const t=qe.exec(`${m}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(m);if(""===t[0])return Ee;const n=+t[0],e=t[1],M=(Math.abs(n)-1)%7,P=Re[M];if("M"===P&&"P"===e)return Ee;const r="M"===P?"majorable":"perfectable",o=""+n+e,a=n<0?-1:1,s=8===n||-8===n?n:a*(M+1),c=function(m,t){return"M"===t&&"majorable"===m||"P"===t&&"perfectable"===m?0:"m"===t&&"majorable"===m?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===m?t.length:t.length+1):0}(r,e),d=Math.floor((Math.abs(n)-1)/7),u=a*(ze[M]+c+12*d),l=(a*(ze[M]+c)%12+12)%12,f=i({step:M,alt:c,oct:d,dir:a});return{empty:!1,name:o,num:n,q:e,step:M,alt:c,dir:a,type:r,simple:s,semitones:u,chroma:l,coord:f,oct:d}}(m)):r(m)?_e(function(m){const{step:t,alt:n,oct:e=0,dir:M}=m;if(!M)return"";const P=t+1+7*e,r=0===P?t+1:P,o=M<0?"-":"",a="M"===Re[t]?"majorable":"perfectable",i=o+r+function(m,t){return 0===t?"majorable"===m?"M":"P":-1===t&&"majorable"===m?"m":t>0?Oe("A",t):Oe("d","perfectable"===m?t:t+1)}(a,n);return i}(m)):P(m)?_e(m.name):Ee}var ze=[0,2,4,5,7,9,11],Re="PMMPPMM";function Ge(m,t){const[n,e=0]=m;return _e(c(t||7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}"P m M m M P d P m M m M".split(" ");Be((m,t)=>[m[0]+t[0],m[1]+t[1]]),Be((m,t)=>[m[0]-t[0],m[1]-t[1]]);function Be(m){return(t,n)=>{const e=_e(t).coord,M=_e(n).coord;if(e&&M){return Ge(m(e,M)).name}}}function Ue(m){const[t,n,e,M]=I(m);return""===t?Le("",m):"A"===t&&"ug"===M?Le("","aug"):Le(t+n,e+M)}function Le(m,t){const n=t.split("/");if(1===n.length)return[m,n[0],""];const[e,M,P,r]=I(n[1]);return""!==e&&""===P&&""===r?[m,n[0],e+M]:[m,t,""]}var Je={fromRomanNumerals:function(m,t){return t.map(_n).map(t=>S(m,_e(t))+t.chordType)},toRomanNumerals:function(m,t){return t.map(t=>{const[n,e]=Ue(t);return _n(_e(V(m,n))).name+e})}};function He(m){const t=K(m.map(m=>"number"==typeof m?m:Mn(m)));return m.length&&t.length===m.length?t.reduce((m,t)=>{const n=m[m.length-1];return m.concat(J(n,t).slice(1))},[t[0]]):[]}var Ke={numeric:He,chromatic:function(m,t){return He(m).map(m=>cn(m,t))}},We=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Qe=[],Xe={};function Ye(){return Qe.slice()}function Ze(m,t,n){const e=function(m){const t=t=>-1!==m.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(m),M={...im(m),name:n||"",quality:e,intervals:m,aliases:t};Qe.push(M),M.name&&(Xe[M.name]=M),Xe[M.setNum]=M,Xe[M.chroma]=M,M.aliases.forEach(m=>function(m,t){Xe[t]=m}(M,m))}We.forEach(([m,t,n])=>Ze(m.split(" "),n.split(" "),t)),Qe.sort((m,t)=>m.setNum-t.setNum);var mM={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function tM(m){if("string"!=typeof m)return["",""];const t=m.indexOf(" "),n=x(m.substring(0,t));if(n.empty){const t=x(m);return t.empty?["",m.toLowerCase()]:[t.name,""]}const e=m.substring(n.name.length+1).toLowerCase();return[n.name,e.length?e:""]}function nM(m){const t=Array.isArray(m)?m:tM(m),n=x(t[0]).name,e=Tt(t[1]);if(e.empty)return mM;const M=e.name,P=n?e.intervals.map(m=>S(n,m)):[],r=n?n+" "+M:M;return{...e,name:r,type:M,tonic:n,notes:P}}function eM(m){const t=lm(om(m)?m:nM(m).chroma);return Ot().filter(m=>t(m.chroma)).map(m=>m.name)}function MM(m){const t=m.map(m=>x(m).pc).filter(m=>m),n=t[0],e=In(t);return H(e.indexOf(n),e)}var PM={degrees:function(m){const{intervals:t,tonic:n}=nM(m),e=C(t,n);return m=>m?e(m>0?m-1:m):""},detect:function(m,t={}){const n=sm(m),e=x(t.tonic??m[0]??""),M=e.chroma;if(void 0===M)return[];const P=n.split("");P[M]="1";const r=H(M,P).join(""),o=Ot().find(m=>m.chroma===r),a=[];return o&&a.push(e.name+" "+o.name),"exact"===t.match||eM(r).forEach(m=>{a.push(e.name+" "+m)}),a},extended:eM,get:nM,modeNames:function(m){const t=nM(m);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return dm(t.chroma).map((m,t)=>{const e=nM(m).name;return e?[n[t],e]:["",""]}).filter(m=>m[0])},names:Vt,rangeOf:function(m){const t=function(m){const t=Array.isArray(m)?MM(m):nM(m).notes,n=t.map(m=>x(m).chroma);return m=>{const e=x("number"==typeof m?gn(m):m),M=e.height;if(void 0===M)return;const P=M%12,r=n.indexOf(P);return-1!==r?$n(e.name,t[r]):void 0}}(m);return(m,n)=>{const e=x(m).height,M=x(n).height;return void 0===e||void 0===M?[]:J(e,M).map(t).filter(m=>m)}},reduced:function(m){const t=um(nM(m).chroma);return Ot().filter(m=>t(m.chroma)).map(m=>m.name)},scaleChords:function(m){const t=um(nM(m).chroma);return Ye().filter(m=>t(m.chroma)).map(m=>m.aliases[0])},scaleNotes:MM,steps:function(m){const{intervals:t,tonic:n}=nM(m);return C(t,n)},tokenize:tM,scale:nM},rM={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},oM=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];var aM=/^(\d*\d(?:\+\d)*)\/(\d+)$/,iM=new Map;function sM(m){if("string"==typeof m){const[t,n,e]=aM.exec(m)||[];return sM([n,e])}const[t,n]=m,e=+n;if("number"==typeof t)return[t,e];const M=t.split("+").map(m=>+m);return 1===M.length?[M[0],e]:[M,e]}var cM={names:function(){return oM.slice()},parse:sM,get:function(m){const t=JSON.stringify(m),n=iM.get(t);if(n)return n;const e=function([m,t]){const n=Array.isArray(m)?m.reduce((m,t)=>m+t,0):m,e=t;if(0===n||0===e)return rM;const M=Array.isArray(m)?`${m.join("+")}/${t}`:`${m}/${t}`,P=Array.isArray(m)?m:[],r=4===e||2===e?"simple":8===e&&n%3==0?"compound":dM(e)?"irregular":"irrational";return{empty:!1,name:M,type:r,upper:n,lower:e,additive:P}}(sM(m));return iM.set(t,e),e}},dM=m=>Math.log(m)/Math.log(2)%1==0;var uM=M,lM=hm,fM=It,hM=Ft},1766:(m,t)=>{t.__esModule=!0,t.tokenizeChord=void 0,t.tokenizeChord=function(m){var t=(m||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}},2363:(m,t,n)=>{t.__esModule=!0;var e=n(4242),M=n(5355),P=n(5180),r=n(1766);t.default={tokenizeChord:r.tokenizeChord,getBestVoicing:P.getBestVoicing,dictionaryVoicing:e.dictionaryVoicing,dictionaryVoicingFinder:e.dictionaryVoicingFinder,lefthand:e.lefthand,guidetones:e.guidetones,triads:e.triads,minTopNoteDiff:M.minTopNoteDiff}},4242:function(m,t,n){var e=this&&this.__assign||function(){return e=Object.assign||function(m){for(var t,n=1,e=arguments.length;n<e;n++)for(var M in t=arguments[n])Object.prototype.hasOwnProperty.call(t,M)&&(m[M]=t[M]);return m},e.apply(this,arguments)},M=this&&this.__rest||function(m,t){var n={};for(var e in m)Object.prototype.hasOwnProperty.call(m,e)&&t.indexOf(e)<0&&(n[e]=m[e]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(e=Object.getOwnPropertySymbols(m);M<e.length;M++)t.indexOf(e[M])<0&&Object.prototype.propertyIsEnumerable.call(m,e[M])&&(n[e[M]]=m[e[M]])}return n};t.__esModule=!0,t.dictionaryVoicing=t.dictionaryVoicingFinder=t.triads=t.guidetones=t.lefthand=void 0;var P=n(5180),r=n(9061);t.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},t.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};t.dictionaryVoicingFinder=function(m){return function(t,n){return(0,r.voicingsInRange)(t,m,n)}};t.dictionaryVoicing=function(m){var n=m.dictionary,r=m.range,o=M(m,["dictionary","range"]);return(0,P.getBestVoicing)(e(e({},o),{range:r,finder:(0,t.dictionaryVoicingFinder)(n)}))}},5180:(m,t)=>{t.__esModule=!0,t.getBestVoicing=void 0,t.getBestVoicing=function(m){var t=m.chord,n=m.range,e=m.finder,M=m.picker,P=m.lastVoicing,r=e(t,n);return r.length?M(r,P):[]}},5355:(m,t,n)=>{t.__esModule=!0,t.minTopNoteDiff=void 0;var e=n(878);t.minTopNoteDiff=function(m,t){if(!t)return m[0];var n=function(m){return Math.abs(e.Note.midi(t[t.length-1])-e.Note.midi(m[m.length-1]))};return m.reduce(function(m,t){return n(t)<n(m)?t:m},m[0])}},9061:(m,t,n)=>{t.__esModule=!0,t.voicingsInRange=void 0;var e=n(878),M=n(4242),P=n(1766);t.voicingsInRange=function(m,t,n){void 0===t&&(t=M.lefthand),void 0===n&&(n=["D3","A4"]);var r=(0,P.tokenizeChord)(m),o=r[0],a=r[1];if(!t[a])return[];var i=t[a].map(function(m){return m.split(" ")}),s=e.Range.chromatic(n);return i.reduce(function(m,t){var M=t.map(function(m){return e.Interval.substract(m,t[0])}),P=e.Note.transpose(o,t[0]),r=s.filter(function(m){return e.Note.chroma(m)===e.Note.chroma(P)}).filter(function(m){return e.Note.midi(e.Note.transpose(m,M[M.length-1]))<=e.Note.midi(n[1])}).map(function(m){return e.Note.enharmonic(m,P)}).map(function(m){return M.map(function(t){return e.Note.transpose(m,t)})});return m.concat(r)},[])}},9448:(m,t,n)=>{n.r(t),n.d(t,{addVoicings:()=>S,packageName:()=>F,registerVoicings:()=>C,resetVoicings:()=>q,rootNotes:()=>k,scale:()=>y,scaleTranspose:()=>g,setDefaultVoicings:()=>$,setVoicingRange:()=>D,transpose:()=>A,voicing:()=>O,voicingAlias:()=>E,voicingRegistry:()=>w,voicings:()=>T});var e=n(878),M=n(8281),P=n(2363);const r=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],o=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],a=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],i={b:-1,"#":1};const s=m=>m%12,c=m=>{let t=Number(m);return isNaN(t)?e.Interval.semitones(m):t},d=(m,t)=>"number"==typeof m?m:"string"==typeof m?(0,M.noteToMidi)(m,t):void 0;function u(m,t,n=1){m=m.map(m=>"string"==typeof m?(0,M.noteToMidi)(m):m);const e=Math.floor(t/m.length)*n*12;return m[t=(0,M._mod)(t,m.length)]+e}let l={};function f(m,t,n,P){let[r,o]=e.Scale.tokenize(t);const a=d(r),i=s(a);if(!l[o]){let{intervals:m}=e.Scale.get(`C ${o}`);l[o]=m.map(c)}const u=l[o];if(!u)return null;let f=a;if(n){n=d(n,3);const t=s(n),e=(0,M._mod)(t-i,12),r=function(m,t,n){let e=0,M=1/0;return t.forEach((t,P)=>{const r=Math.abs(t-m);(r<M||n)&&(e=P,M=r)}),e}(e,u,P);m+=r,f=n-e}const h=12*Math.floor(m/u.length);return u[m=(0,M._mod)(m,u.length)]+f+h}let h={below:m=>m.slice(-1)[0],duck:m=>m.slice(-1)[0],above:m=>m[0],root:m=>m[0]};function p({chord:m,dictionary:t,offset:n=0,n:e,mode:P="below",anchor:l="c5",octaves:f=1}){const[p,b]=function(m){const t=(m||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}(m),A=(m=>{const[t,...n]=m.split("");return o.indexOf(t.toLowerCase())+n.reduce((m,t)=>m+i[t],0)})(p);l=d(l?.note||l,4);const g=s(l),y=t[b].map(m=>("string"==typeof m?m.split(" "):m).map(c));let v,j,N=y.map((m,t)=>{const n=h[P](m),e=(0,M._mod)(g-n-A,12);return(void 0===v||e<v)&&(v=e,j=t),e});"root"===P&&(j=0);const x=12*Math.ceil(n/y.length),w=(0,M._mod)(j+n,y.length),I=y[w],$=h[P](I),D=l-N[w]+x,S=I.map(m=>D-$+m);let C=S.map(m=>((m,t=!1)=>{const n=Math.floor(m/12)-1;return(t?a:r)[m%12]+n})(m));return"duck"===P&&(C=C.filter((m,t)=>S[t]!==l)),void 0!==e?[u(C,e,f)]:C}function b(m,t,n){let[P,r]=e.Scale.tokenize(m),{notes:o}=e.Scale.get(`${P} ${r}`);if(o=o.map(m=>e.Note.get(m).pc),t=Number(t),isNaN(t))throw new Error(`scale offset "${t}" not a number`);const{pc:a,oct:i=3}=e.Note.get(n),s=o.indexOf(a);if(-1===s)throw new Error(`note "${n}" is not in scale "${m}"`);let c=s,d=i,u=a;const l=Math.sign(t);for(;Math.abs(c-s)<Math.abs(t);){c+=l;const m=(0,M._mod)(c,o.length);l<0&&"C"===u[0]&&(d+=l),u=o[m],l>0&&"C"===u[0]&&(d+=l)}return u+d}const A=(0,M.register)("transpose",function(m,t){return t.withHap(t=>{const n=t.value.note??t.value;if("number"==typeof n){let M;"number"==typeof m?M=m:"string"==typeof m&&(M=e.Interval.semitones(m)||0);const P=n+M;return"object"==typeof t.value?t.withValue(()=>({...t.value,note:P})):t.withValue(()=>P)}if("string"!=typeof n||!(0,M.isNote)(n))return(0,M.logger)(`[tonal] transpose: not a note "${n}"`,"warning"),t;const P=isNaN(Number(m))?String(m):e.Interval.fromSemitones(m),r=e.Note.simplify(e.Note.transpose(n,P));return"object"==typeof t.value?t.withValue(()=>({...t.value,note:r})):t.withValue(()=>r)})}),g=(0,M.register)("scaleTranspose",function(m,t){return t.withHap(t=>{if(!t.context.scale)throw new Error("can only use scaleTranspose after .scale");if("object"==typeof t.value)return t.withValue(()=>({...t.value,note:b(t.context.scale,Number(m),t.value.note)}));if("string"!=typeof t.value)throw new Error("can only use scaleTranspose with notes");return t.withValue(()=>b(t.context.scale,Number(m),t.value))})}),y=(0,M.register)("scale",function(m,t){return Array.isArray(m)&&(m=m.flat().join(" ")),t.fmap(t=>{const n="object"==typeof t;let P=n?t.n:t;if(n&&delete t.n,(0,M.isNote)(P))return(0,M.pure)(P);let r=Number(P),o=0;if(isNaN(r)){if(P=String(P),!/^[-+]?\d+(#*|b*){1}$/.test(P))return(0,M.logger)(`[tonal] invalid scale step "${P}", expected number or integer with optional # b suffixes`,"error"),M.silence;const m=P.indexOf("#");if(m>=0)r=Number(P.substring(0,m)),o=P.length-m;else{const m=P.indexOf("b");r=Number(P.substring(0,m)),o=m-P.length}}try{let P;P=n&&t.anchor?f(r,m,t.anchor):function(m,t){t=t.replaceAll(":"," "),m=Math.ceil(m);let{intervals:n,tonic:P,empty:r}=e.Scale.get(t);if(r&&(0,M.isNote)(t)||!r&&!P)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(r)throw new Error(`invalid scale "${t}"`);P=P||"C";const{pc:o,oct:a=3}=e.Note.get(P),i=Math.floor(m/n.length),s=(0,M._mod)(m,n.length),c=e.Interval.add(n[s],(m=>(m<=0?-1:1)+7*m+"P")(i));return e.Note.transpose(o+a,c)}(r,m),0!=o&&(P=e.Note.transpose(P,e.Interval.fromSemitones(o))),t=(0,M.pure)(n?{...t,note:P}:P)}catch(m){(0,M.logger)(`[tonal] ${m.message}`,"error"),t=M.silence}return t}).outerJoin().withHap(t=>t.setContext({...t.context,scale:m}))},!0,!0),v={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},j={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:N,minTopNoteDiff:x}=P.default||P,w={lefthand:{dictionary:{m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},mode:"below",anchor:"a4"},guidetones:{dictionary:{m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},mode:"above",anchor:"a4"},legacy:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},mode:"below",anchor:"a4"}};let I="ireal";const $=m=>I=m,D=(m,t)=>S(m,w[m].dictionary,t),S=(m,t,n=["F3","A4"])=>{Object.assign(w,{[m]:{dictionary:t,range:n}})},C=(m,t,n={})=>{Object.assign(w,{[m]:{dictionary:t,...n}})};let V;const T=(0,M.register)("voicings",function(m,t){return t.fmap(t=>(V=((m,t,n)=>{const{dictionary:e,range:M}=w[t];return N({chord:m,dictionary:e,range:M,picker:x,lastVoicing:n})})(t,m,V),(0,M.stack)(...V))).outerJoin()}),k=(0,M.register)("rootNotes",function(m,t){return t.fmap(t=>{const n=(t.chord||t).match(/^([a-gA-G][b#]?).*$/)[1]+m;return t.chord?{note:n}:n})}),O=(0,M.register)("voicing",function(m){return m.fmap(m=>{m="string"==typeof m?{chord:m}:m;let{dictionary:t=I,chord:n,anchor:e,offset:P,mode:r,n:o,octaves:a,...i}=m;t="string"==typeof t?w[t]:{dictionary:t,mode:"below",anchor:"c5"};try{let m=p({...t,chord:n,anchor:e,offset:P,mode:r,n:o,octaves:a});return(0,M.stack)(...m).note().set(i)}catch{return(0,M.logger)(`[voicing]: unknown chord "${n}"`),M.silence}}).outerJoin()});function E(m,t,n){(n=Array.isArray(n)?n:[n]).forEach(n=>{n[t]=n[m]})}function q(){V=void 0,$("ireal")}E("^","",[v,j]),Object.keys(v).forEach(m=>{if(m.includes("-")){let t=m.replace("-","m");E(m,t,[j,v])}if(m.includes("^")){let t=m.replace("^","M");E(m,t,[j,v])}if(m.includes("+")){let t=m.replace("+","aug");E(m,t,[j,v])}}),C("ireal",v),C("ireal-ext",j);const F="@strudel/tonal"}}]);